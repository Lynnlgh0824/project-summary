<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“… é¡¹ç›®ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            overflow: hidden;
            position: relative;
            z-index: 1;
            border: 1px solid #e8e8e8;
        }

        .header {
            background: #1a1a1a;
            color: #e8e8e8;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            z-index: 1000;
            max-height: 100px;
            overflow: hidden;
        }

        .header-left {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
            min-width: 0;
        }

        .header-title h1 {
            font-size: 20px;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .header-title h1 span {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 500;
        }

        .header-title p {
            display: none;
        }

        .header-controls {
            display: flex;
            gap: 10px;
            flex-shrink: 0;
        }

        .header-controls .btn {
            padding: 8px 14px;
            font-size: 13px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #e8e8e8;
            color: #1a1a1a;
            border: 1px solid #d0d0d0;
        }

        .btn-primary:hover {
            background: #d8d8d8;
            border-color: #c8c8c8;
        }

        .btn-success {
            background: #4a4a4a;
            color: #e8e8e8;
            border: 1px solid #5a5a5a;
        }

        .btn-success:hover {
            background: #3a3a3a;
        }

        .btn-quick-add {
            padding: 12px 24px;
            background: #2a2a2a;
            color: #e8e8e8;
            border: 1px solid #3a3a3a;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-quick-add:hover {
            background: #3a3a3a;
        }

        .btn-quick-add:active {
            background: #1a1a1a;
        }

        /* å¿«é€Ÿå…¥å£åŒºåŸŸæ ·å¼ */
        .quick-access-section {
            display: flex;
            align-items: center;
            gap: 6px;
            overflow-x: auto;
            overflow-y: hidden;
            flex: 1;
            min-width: 0;
        }

        /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */
        .quick-access-section::-webkit-scrollbar {
            height: 0;
            opacity: 0;
        }

        .quick-access-section {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .quick-access-label {
            display: none;
        }

        .quick-access-projects {
            display: flex;
            gap: 6px;
            flex-wrap: nowrap;
            flex: 1;
            min-width: 0;
        }

        .quick-project-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 6px;
            padding: 5px 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.85);
            flex-shrink: 0;
        }

        .quick-project-card:hover {
            background: rgba(255, 255, 255, 0.12);
        }

        .quick-project-card .project-icon {
            font-size: 12px;
        }

        .quick-project-card .project-name {
            color: rgba(255, 255, 255, 0.9);
        }

        .quick-project-card.active {
            background: rgba(255, 255, 255, 0.95);
            border-color: rgba(255, 255, 255, 0.9);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .quick-project-card.active .project-name {
            color: #1a1a1a;
            font-weight: 500;
        }

        .quick-project-card .open-hint {
            display: none;
        }

        .content {
            display: flex;
            height: calc(100vh - 140px);
        }

        .sidebar {
            display: none;
        }

        .sidebar-header {
            padding: 20px 20px 10px 20px;
            background: #f8f9fa;
            position: sticky;
            top: 0;
            z-index: 50;
            flex-shrink: 0;
        }

        .sidebar-content {
            overflow-y: auto;
            flex: 1;
            padding: 0 20px 20px 20px;
        }

        .main {
            flex: 1;
            padding: 20px 30px 30px 30px;
            overflow-y: auto;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* æ ‡ç­¾é¡µå¯¼èˆªç²˜æ€§å®šä½ */
        .tab-navigation {
            position: sticky;
            top: 0;
            background: white;
            z-index: 100;
            padding: 10px 30px;
            margin: 0 -30px 20px -30px;
            border-bottom: 2px solid #dee2e6;
            min-height: 55px;
            display: flex;
            align-items: center;
        }

        .tab-navigation.fixed {
            position: sticky;
            top: 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .project-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .project-item:hover {
            background: #f0f0f0;
        }

        .project-item.active {
            background: #3a3a3a;
            color: white;
        }

        .project-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .project-date {
            font-size: 12px;
            opacity: 0.7;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        thead {
            background: #f8f9fa;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #333;
            border-bottom: 2px solid #dee2e6;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #dee2e6;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .project-name {
            font-weight: 600;
            color: #3a3a3a;
        }

        .log-date {
            color: #666;
            font-size: 14px;
        }

        .tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            margin: 0 5px 5px 0;
        }

        .tag-feature { background: #f0f0f0; color: #4a4a4a; }
        .tag-fix { background: #f0f0f0; color: #5a5a5a; }
        .tag-improvement { background: #f0f0f0; color: #4a4a4a; }
        .tag-learning { background: #f5f5f5; color: #6a6a6a; }

        .add-log-form {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            display: none;
        }

        .add-log-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        .form-control:focus {
            outline: none;
            border-color: #3a3a3a;
            box-shadow: 0 0 0 3px rgba(100, 100, 100, 0.1);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #3a3a3a;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }

        .log-summary {
            max-width: 500px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .log-summary.expanded {
            white-space: normal;
            max-width: none;
        }

        /* æ ‡ç­¾é¡µæ ·å¼ */
        .tab-btn {
            padding: 10px 20px;
            border: none;
            background: #f8f9fa;
            color: #666;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            border-radius: 6px 6px 0 0;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            background: #e9ecef;
        }

        .tab-btn.active {
            background: #3a3a3a;
            color: white;
        }

        .tab-content {
            display: block;
            margin-top: 20px;
        }

        /* é“¾æ¥å¡ç‰‡æ ·å¼ - äºŒçº§é“¾æ¥ */
        .link-card {
            display: block;
            padding: 12px 16px;
            background: white;
            text-decoration: none;
            color: #555;
            font-size: 13px;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
            transition: all 0.2s ease;
            box-shadow: none;
            margin-bottom: 8px;
        }

        .link-card:hover {
            background: #f8f8f8;
            border-color: #3a3a3a;
            box-shadow: 0 2px 6px rgba(100, 100, 100, 0.1);
            transform: none;
        }

        .link-card-title {
            font-weight: 500;
            color: #444;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .link-card-path {
            font-size: 11px;
            color: #999;
            word-break: break-all;
            margin-top: 4px;
            font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
        }

        .link-card-project {
            font-size: 11px;
            color: #8a8a8a;
            margin-top: 4px;
        }

        .empty-state-enhanced {
            text-align: center;
            padding: 50px 20px;
            background: rgba(245, 247, 250, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 2px dashed rgba(222, 226, 230, 0.5);
        }

        .empty-state-enhanced .emoji {
            font-size: 56px;
            margin-bottom: 16px;
            opacity: 0.6;
        }

        .empty-state-enhanced .message {
            color: #666;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .empty-state-enhanced .hint {
            color: #999;
            font-size: 13px;
        }

        .project-section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 25px 0 15px;
            padding: 12px 16px;
            background: #3a3a3a;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .project-section-header:hover {
            transform: translateX(5px);
            box-shadow: 0 8px 24px rgba(92,124,250,0.35);
        }

        .project-section-header .index {
            font-size: 18px;
            font-weight: 700;
            margin-right: 12px;
            opacity: 0.9;
        }

        .project-section-header .name {
            font-size: 16px;
            font-weight: 600;
        }

        .project-section-header .hint {
            font-size: 12px;
            opacity: 0.8;
        }

        .links-container {
            display: grid;
            gap: 8px;
            margin-top: 12px;
            padding: 0 8px;
        }

        .no-content-message {
            text-align: center;
            padding: 30px;
            color: #999;
            font-size: 14px;
            background: white;
            border-radius: 8px;
            border: 1px dashed #dee2e6;
        }

        /* åˆ†ç±»æ ‡é¢˜æ ·å¼ - ä¸€çº§åˆ†ç±» */
        .category-header {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
            margin: 35px 0 20px;
            padding: 18px 24px;
            background: #f5f5f5;
            border-radius: 16px;
            border-left: 6px solid #3a3a3a;
            box-shadow: 0 4px 20px rgba(100, 100, 100, 0.12);
            transition: all 0.3s ease;
        }

        .category-header:hover {
            box-shadow: 0 6px 28px rgba(100, 100, 100, 0.18);
            transform: translateX(4px);
            background: #f0f0f0;
        }

        .category-header .icon {
            font-size: 32px;
            filter: drop-shadow(0 3px 6px rgba(0,0,0,0.15));
        }

        .category-header .title {
            font-weight: 800;
            color: #1a1a2e;
            font-size: 19px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .category-header .desc {
            font-size: 13px;
            color: #666;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.7);
            padding: 4px 12px;
            border-radius: 8px;
        }

        .category-header .count {
            font-size: 14px;
            font-weight: 700;
            color: white;
            background: #4a4a4a;
            padding: 6px 16px;
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(100, 100, 100, 0.3);
        }

        /* ä¸åŒåˆ†ç±»çš„å·¦è¾¹æ¡†æ ·å¼ - æ›´æ˜æ˜¾çš„é¢œè‰²åŒºåˆ† */
        .link-card-docs { border-left: 4px solid #3a3a3a; }
        .link-card-docs:hover { border-left-color: #5a5a5a; background: #f5f5f5; }

        .link-card-tools { border-left: 4px solid #6a6a6a; }
        .link-card-tools:hover { border-left-color: #5a5a5a; background: #f5f5f5; }

        .link-card-learning { border-left: 4px solid #5a5a5a; }
        .link-card-learning:hover { border-left-color: #4a4a4a; background: #f0f0f0; }

        .link-card-paths { border-left: 4px solid #6a6a6a; }
        .link-card-paths:hover { border-left-color: #5a5a5a; background: #f5f5f5; }

        /* å¾…åŠæ¸…å•æ ·å¼ */
        .todo-project-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .todo-project-card:hover {
            box-shadow: 0 12px 48px rgba(100, 100, 100, 0.15);
            transform: translateY(-2px);
        }

        .todo-project-header {
            background: #3a3a3a;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .todo-project-header:hover {
            filter: brightness(1.05);
        }

        .todo-project-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
        }

        .todo-project-stats {
            display: flex;
            gap: 15px;
            font-size: 13px;
            opacity: 0.9;
        }

        .todo-project-stats span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .todo-list {
            padding: 15px 20px;
        }

        .todo-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            background: rgba(248, 249, 250, 0.6);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .todo-item:hover {
            background: rgba(233, 236, 239, 0.8);
            transform: translateX(3px);
            box-shadow: 0 4px 12px rgba(100, 100, 100, 0.1);
        }

        .todo-item.completed {
            opacity: 0.6;
        }

        .todo-item.completed .todo-text {
            text-decoration: line-through;
            color: #999;
        }

        .todo-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .todo-content {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .todo-text {
            flex: 1;
            font-size: 14px;
        }

        .todo-priority {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .todo-priority.high {
            background: #f0f0f0;
            color: #5a5a5a;
        }

        .todo-priority.medium {
            background: #f5f5f5;
            color: #6a6a6a;
        }

        .todo-priority.low {
            background: #f0f0f0;
            color: #4a4a4a;
        }

        .todo-due-date {
            font-size: 12px;
            color: #666;
            flex-shrink: 0;
        }

        .todo-due-date.overdue {
            color: #5a5a5a;
            font-weight: 600;
        }

        .todo-actions {
            display: flex;
            gap: 8px;
        }

        .todo-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.2s;
            opacity: 0.6;
        }

        .todo-item:hover .todo-btn {
            opacity: 1;
        }

        .todo-btn:hover {
            background: #e0e0e0;
        }

        .todo-btn-delete:hover {
            background: #f0f0f0;
            color: #5a5a5a;
        }

        .add-todo-form {
            display: flex;
            gap: 10px;
            padding: 15px 20px;
            background: #f5f5f5;
            border-top: 1px solid #dee2e6;
        }

        .add-todo-form input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
        }

        .add-todo-form select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            background: white;
        }

        .add-todo-form button {
            padding: 8px 16px;
            background: #3a3a3a;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .add-todo-form button:hover {
            background: #5a5a5a;
        }

        .empty-todos {
            text-align: center;
            padding: 40px 20px;
            color: #999;
            background: rgba(248, 249, 250, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 8px;
            border: 2px dashed rgba(222, 226, 230, 0.5);
        }

        .empty-todos .emoji {
            font-size: 48px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <div class="header-title">
                    <h1>ğŸ“… é¡¹ç›®ç³»ç»Ÿ <span id="currentProjectName"></span></h1>
                    <p style="font-size: 14px; opacity: 0.9; margin-top: 5px;">
                        æŒ‰é¡¹ç›®ã€æ—¥æœŸè®°å½•å·¥ä½œæ€»ç»“ï¼Œè‡ªåŠ¨ç”Ÿæˆæ—¥æŠ¥
                    </p>
                </div>
                <div class="quick-access-section">
                    <div class="quick-access-label">âš¡ å¿«é€Ÿå…¥å£</div>
                    <div class="quick-access-projects" id="quickAccessProjects">
                        <!-- åŠ¨æ€ç”Ÿæˆé¡¹ç›®å¿«æ·å…¥å£ -->
                    </div>
                </div>
            </div>
            <div class="header-controls">
                <button class="btn btn-success" onclick="refreshAllData()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
                <button class="btn btn-primary" onclick="autoGenerateTodayLog()">ğŸ¤– æ™ºèƒ½ç”Ÿæˆ</button>
                <button class="btn btn-primary" onclick="showAddForm()">â• æ·»åŠ æ—¥å¿—</button>
            </div>
        </div>

        <div class="content">
            <!-- ä¾§è¾¹æ ï¼šé¡¹ç›®åˆ—è¡¨ -->
            <div class="sidebar">
                <!-- ä¾§è¾¹æ å¤´éƒ¨ - å›ºå®š -->
                <div class="sidebar-header">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <h3 style="margin: 0; color: #333;">ğŸ“ é¡¹ç›®åˆ—è¡¨</h3>
                        <button class="btn btn-primary" onclick="showAddProjectForm()" style="padding: 5px 10px; font-size: 12px;">â•</button>
                    </div>
                </div>

                <!-- ä¾§è¾¹æ å†…å®¹ - å¯æ»šåŠ¨ -->
                <div class="sidebar-content">
                    <!-- æ·»åŠ é¡¹ç›®è¡¨å• -->
                    <div id="addProjectForm" style="display: none; background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <input type="text" id="newProjectName" class="form-control" placeholder="é¡¹ç›®åç§°" style="margin-bottom: 10px;">
                        <button class="btn btn-success" onclick="addNewProject()" style="width: 100%; font-size: 12px;">ä¿å­˜</button>
                        <button class="btn btn-primary" onclick="hideAddProjectForm()" style="width: 100%; margin-top: 5px; font-size: 12px;">å–æ¶ˆ</button>
                    </div>

                    <div id="projectList"></div>

                    <!-- é¡¹ç›®ç»Ÿè®¡ -->
                    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #dee2e6;">
                        <h4 style="margin-bottom: 15px; font-size: 14px; color: #666;">ğŸ“Š é¡¹ç›®ç»Ÿè®¡</h4>
                        <div id="projectStats"></div>
                    </div>
                </div>
            </div>

            <!-- ä¸»å†…å®¹åŒº -->
            <div class="main">
                <!-- æ ‡ç­¾é¡µå¯¼èˆª - ç²˜æ€§å®šä½ -->
                <div class="tab-navigation">
                    <div style="display: flex; gap: 10px; margin-bottom: 0;">
                        <button class="tab-btn active" onclick="switchTab('todos')">âœ… å¾…åŠæ¸…å•</button>
                        <button class="tab-btn" onclick="switchTab('logs')">ğŸ“… å·¥ä½œæ—¥å¿—</button>
                        <button class="tab-btn" onclick="switchTab('summary')">ğŸ“š é¡¹ç›®æ€»ç»“</button>
                        <button class="tab-btn" onclick="switchTab('resources')">ğŸ“ é¡¹ç›®èµ„æº</button>
                    </div>
                </div>

                <!-- æ ‡ç­¾é¡µ1: å¾…åŠæ¸…å• -->
                <div id="tab-todos" class="tab-content">
                <div id="todosContent"></div>
            </div>

            <!-- æ ‡ç­¾é¡µ2: å·¥ä½œæ—¥å¿— -->
            <div id="tab-logs" class="tab-content" style="display: none;">
                <!-- ç»Ÿè®¡å¡ç‰‡ -->
                <div class="stats" id="stats"></div>

                <!-- æ·»åŠ è¡¨å• -->
                <div class="add-log-form" id="addForm">
                <h2 style="margin-bottom: 20px;">â• æ·»åŠ é¡¹ç›®æ—¥å¿—</h2>
                <div class="form-group">
                    <label>é¡¹ç›®åç§° *</label>
                    <select id="projectSelect" class="form-control">
                        <option value="english-learning-tts">è‹±è¯­æœ—è¯»å­¦ä¹ </option>
                        <option value="data-analysis">æ•°æ®åˆ†æé¡¹ç›®</option>
                        <option value="other">å…¶ä»–é¡¹ç›®</option>
                    </select>
                </div>

                <div class="form-group" id="otherProjectGroup" style="display: none;">
                    <label>å…¶ä»–é¡¹ç›®åç§° *</label>
                    <input type="text" id="otherProjectName" class="form-control" placeholder="è¾“å…¥é¡¹ç›®åç§°">
                </div>

                <div class="form-group">
                    <label>æ—¥æœŸ *</label>
                    <input type="date" id="logDate" class="form-control" value="">
                </div>

                <div class="form-group">
                    <label>ç±»å‹</label>
                    <select id="logType" class="form-control">
                        <option value="feature">âœ¨ æ–°åŠŸèƒ½</option>
                        <option value="fix">ğŸ”§ ä¿®å¤ Bug</option>
                        <option value="improvement">ğŸš€ ä¼˜åŒ–æ”¹è¿›</option>
                        <option value="learning">ğŸ“š å­¦ä¹ æ€»ç»“</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>é¡¹ç›®æ€»ç»“æ—¥å¿—ï¼ˆæ¯è¡Œä¸€é¡¹ï¼‰ *</label>
                    <textarea id="logItems" class="form-control" placeholder="âœ… ä¿®å¤ TTS é˜Ÿåˆ—ç­–ç•¥é—®é¢˜&#10;âœ… åˆ›å»ºé¡¹ç›®æ—¥å¿—ç³»ç»Ÿ&#10;âœ… æ·»åŠ æ¡Œé¢å¿«æ·æ–¹å¼"></textarea>
                </div>

                <div class="form-group">
                    <label>ä»£ç ç‰‡æ®µï¼ˆå¯é€‰ï¼‰</label>
                    <textarea id="logCode" class="form-control" placeholder="ç²˜è´´ç›¸å…³ä»£ç ..."></textarea>
                </div>

                <button class="btn btn-success" onclick="saveLogForm()">ğŸ’¾ ä¿å­˜æ—¥å¿—</button>
                <button class="btn btn-primary" onclick="hideAddForm()">âŒ å–æ¶ˆ</button>
            </div>

            <!-- æ—¥å¿—åˆ—è¡¨ -->
            <div id="logTable"></div>
            </div>

            <!-- æ ‡ç­¾é¡µ3: é¡¹ç›®æ€»ç»“ -->
            <div id="tab-summary" class="tab-content" style="display: none;">
                <div id="summaryContent"></div>
            </div>

            <!-- æ ‡ç­¾é¡µ4: é¡¹ç›®èµ„æºï¼ˆæ•´åˆäº†é“¾æ¥æ±‡æ€»å’Œæ–‡ä»¶æ£€æŸ¥ï¼‰ -->
            <div id="tab-resources" class="tab-content" style="display: none;">
                <div id="resourcesContent"></div>
            </div>
            </div>
        </div>
    </div>

    <script>
        const STORAGE_KEY = 'project_logs';
        const PROJECTS_KEY = 'project_list';
        const TODOS_KEY = 'project_todos';
        let fileHandle = null; // æ–‡ä»¶å¥æŸ„ï¼Œç”¨äºè‡ªåŠ¨ä¿å­˜

        const defaultProjects = [
            { id: 'project-organization', name: 'ğŸ—‚ï¸ é¡¹ç›®ç®¡ç†æ±‡æ€»', startDate: '2026-02-06' },
            { id: 'english-learning-tts', name: 'ğŸ§ è‹±è¯­æœ—è¯»å­¦ä¹ ', startDate: '2026-02-05' },
            { id: 'chiang-mai-activities', name: 'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨å¹³å°', startDate: '2026-01-19' },
            { id: 'aisaas-video', name: 'ğŸ¥ AI SaaS è§†é¢‘', startDate: '2026-01-22' },
            { id: 'clawdbot-railway', name: 'ğŸ¤– Clawdbot', startDate: '2026-01-15' },
            { id: 'skills-development', name: 'âš¡ æŠ€èƒ½å¼€å‘ä¸å­¦ä¹ ', startDate: '2026-01-01' }
        ];

                // é¡¹ç›®æ•°æ®
        const projectData = {
            'project-organization': {
                summary: {
                    title: 'ğŸ—‚ï¸ é¡¹ç›®ç®¡ç†æ±‡æ€»',
                    description: 'é¡¹ç›®ç»“æ„ä¼˜åŒ–ã€æ–‡ä»¶ç®¡ç†ã€æ¡Œé¢å¿«æ·æ–¹å¼é…ç½®',
                    achievements: [
                        'âœ… æ¸…ç†é¡¹ç›®ç›®å½• - å½’æ¡£æ—§æ–‡ä»¶',
                        'âœ… é‡ç»„é¡¹ç›®ç»“æ„ - åˆ›å»º project summary ç›®å½•',
                        'âœ… ä¿®å¤æ¡Œé¢å¿«æ·æ–¹å¼',
                        'âœ… ä¼˜åŒ–é¡¹ç›®æ—¥å¿—ç³»ç»Ÿ'
                    ],
                    docs: []
                },
                folder: '/Users/yuzhoudeshengyin/Documents/my_project/project summary/'
            },
            'english-learning-tts': {
                summary: {
                    title: 'ğŸ§ è‹±è¯­æœ—è¯»å­¦ä¹ ',
                    description: 'Web Speech APIå®ç°çš„æ™ºèƒ½æœ—è¯»ç³»ç»Ÿï¼Œæ”¯æŒè¯­é€Ÿè°ƒèŠ‚ã€å¥å­åœé¡¿ã€‚åŒ…å«YouTubeè§†é¢‘å­¦ä¹ å†…å®¹ã€‚',
                    achievements: [
                        'âœ… å®ç°å¥å­é—´1ç§’åœé¡¿ - é€’å½’æ’­æ”¾ + setTimeout',
                        'âœ… è¯­é€Ÿè®¾ç½® - å¿«é€Ÿ1.0xã€æ ‡å‡†0.5xã€ç¼“æ…¢0.25x',
                        'âœ… ä»£ç ä¼˜åŒ– - åˆ é™¤903è¡Œé‡å¤ä»£ç ',
                        'âœ… UIä¼˜åŒ– - ç²˜æ€§å¯¼èˆªã€å“åº”å¼å¸ƒå±€',
                        'âœ… YouTubeè§†é¢‘å­¦ä¹  - åˆ›ä¸šã€ä¸Šæµ·é‡æ–°å¼€å§‹ã€å›å®¶ä¹‹è·¯ã€æ¸…è¿ˆç‹¬å±…'
                    ],
                    docs: [
                        // ğŸ“š æ–‡æ¡£èµ„æ–™
                        { name: 'ğŸ“– é¡¹ç›®è¯´æ˜', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/README.md', category: 'docs' },
                        { name: 'ğŸ“‹ æµ‹è¯•å·¥å…·æŒ‡å—', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/TEST-TOOLS.md', category: 'docs' },
                        { name: 'ğŸ”§ TTSæµ‹è¯•è¯´æ˜', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/TTS-TEST.md', category: 'docs' },
                        { name: 'ğŸ§¹ æµ‹è¯•å·¥å…·æ¸…ç†æ–¹æ¡ˆ', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/TEST-TOOLS-CLEANUP.md', category: 'docs' },
                        { name: 'ğŸ”— å®Œæ•´é“¾æ¥æ±‡æ€»', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/ALL-LINKS.md', category: 'docs' },
                        { name: 'ğŸš¨ TTS Canceledé”™è¯¯ä¿®å¤', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/TTS-CANCELED-FIX-2026-02-24.md', category: 'docs' },
                        { name: 'ğŸ§Ÿ TTSåƒµå°¸çŠ¶æ€è§£å†³æ–¹æ¡ˆ', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/TTS-ZOMBIE-STATE-SOLUTION.md', category: 'docs' },
                        // ğŸ› ï¸ æµ‹è¯•ä¸ç»´æŠ¤
                        { name: 'ğŸ§ª æµ‹è¯•ä¸ç»´æŠ¤ä¸­å¿ƒ', url: 'http://localhost:8001/test-hub.html', category: 'test' },
                        { name: 'ğŸš€ ç®€å•è‡ªåŠ¨æµ‹è¯•', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/simple-auto-test.html', category: 'test' },
                        { name: 'ğŸ”§ TTSå¼•æ“æ¢å¤å·¥å…·', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/tts-engine-recovery.html', category: 'test' },
                        { name: 'ğŸ§ª è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/archives/test-files/auto-test-runner.html', category: 'test' },
                        { name: 'ğŸ¯ æœ€ç»ˆåŠŸèƒ½éªŒè¯', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/archives/test-files/test-final-validation.html', category: 'test' },
                        { name: 'ğŸ› TTSè°ƒè¯•å·¥å…·', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/archives/test-files/test-debug.html', category: 'test' },
                        { name: 'ğŸ”Š éŸ³é¢‘è¾“å‡ºæµ‹è¯•', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/archives/test-files/test-audio-output.html', category: 'test' },
                        { name: 'ğŸ‘† ç”¨æˆ·æ‰‹åŠ¿æµ‹è¯•', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/archives/test-files/test-user-gesture.html', category: 'test' },
                        { name: 'ğŸ“ è‡ªåŠ¨æ—¥å¿—æ•è·', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/archives/test-files/auto-log-capture.html', category: 'test' },
                        { name: 'ğŸ” TTSè¯Šæ–­å·¥å…·', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/archives/test-files/auto-diagnose.html', category: 'test' },
                        // ğŸ”§ æ ¸å¿ƒè„šæœ¬
                        { name: 'ğŸ”Š TTSæ ¸å¿ƒåŠŸèƒ½', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/scripts/tts-common.js', category: 'script' },
                        { name: 'ğŸ“„ é¡µé¢å…¬å…±åŠŸèƒ½', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/scripts/page-common.js', category: 'script' }
                    ]
                },
                folder: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/'
            },
            'aisaas-video': {
                summary: {
                    title: 'ğŸ¥ AI SaaS è§†é¢‘',
                    description: 'AIè§†é¢‘ç”Ÿæˆå·¥å…·å’Œå¥—å£³ç«™ç ”ç©¶',
                    achievements: [
                        'âœ… æ”¶é›†AIè§†é¢‘å¥—å£³ç«™ç›¸å…³èµ„æ–™',
                        'âœ… ç ”ç©¶è§†é¢‘SaaSç«™ç¬¬äºŒæ¬¡ç›´æ’­å†…å®¹',
                        'âœ… åˆ†æAIè§†é¢‘ç”Ÿæˆå·¥å…·å¸‚åœº'
                    ],
                    docs: [
                        { name: 'ğŸ¬ AIè§†é¢‘å·¥å…·ç ”ç©¶', url: 'https://www.synthesia.io/', category: 'learning' },
                        { name: 'ğŸ¤– HeyGen è§†é¢‘ç”Ÿæˆ', url: 'https://www.heygen.com/', category: 'learning' },
                        { name: 'ğŸ“º SaaSäº§å“æ¡ˆä¾‹', url: 'https://www.producthunt.com/', category: 'learning' }
                    ]
                },
                folder: '/Users/yuzhoudeshengyin/Desktop/AIç›¸å…³é¡¹ç›®/' },
            'clawdbot-railway': {
                summary: {
                    title: 'ğŸ¤– Clawdbot',
                    description: 'Discord Bot éƒ¨ç½²æ¨¡æ¿å’Œ Railway å¹³å°é…ç½®',
                    achievements: [
                        'âœ… ç ”ç©¶ Railway å¹³å°éƒ¨ç½²',
                        'âœ… é…ç½® Clawdbot æ¨¡æ¿',
                        'âœ… æµ‹è¯• Discord Bot åŠŸèƒ½'
                    ],
                    docs: []
                },
                folder: '/Users/yuzhoudeshengyin/Desktop/',
                projectFolder: '/Users/yuzhoudeshengyin/Documents/my_project/clawdbot-railway/'
            },
            'chiang-mai-activities': {
                summary: {
                    title: 'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                    description: 'æ´»åŠ¨ç®¡ç†ç³»ç»Ÿ - æ•°æ®è´¨é‡ã€è‡ªåŠ¨åŒ–æµ‹è¯•',
                    achievements: [
                        'âœ… å®ç°æ´»åŠ¨æ•°æ®ç®¡ç†ç³»ç»Ÿ',
                        'âœ… GitHub Actions è‡ªåŠ¨åŒ–æ•°æ®è´¨é‡æ£€æŸ¥',
                        'âœ… è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶',
                        'âœ… æ™ºèƒ½æè¿°ä¿®å¤å·¥å…·',
                        'âœ… æ¨é€åˆ° GitHub (20ä¸ªæ–‡ä»¶, +13,227è¡Œ)'
                    ],
                    docs: [
                        { name: 'ğŸŒ ä¸»é¡µé¢', url: 'http://localhost:4000/', category: 'tools' },
                        { name: 'ğŸ”§ ç®¡ç†åå°', url: 'http://localhost:4000/admin.html', category: 'tools' },
                        { name: 'ğŸ“¦ å½’æ¡£æŸ¥çœ‹', url: 'http://localhost:4000/archive-view.html', category: 'tools' },
                        { name: 'ğŸ“Š GitHub ä»“åº“', url: 'https://github.com/Lynnlgh0824/chiengmai-activities', category: 'docs' },
                        { name: 'ğŸ“– README æ–‡æ¡£', url: 'https://github.com/Lynnlgh0824/chiengmai-activities/blob/main/README.md', category: 'docs' },
                        { name: 'ğŸ§ª æµ‹è¯•æŒ‡å—', url: 'https://github.com/Lynnlgh0824/chiengmai-activities/blob/main/docs/TESTING-GUIDE.md', category: 'docs' },
                        { name: 'âš™ï¸ è‡ªåŠ¨åŒ–æŒ‡å—', url: 'file:///Users/yuzhoudeshengyin/Documents/my_project/Chiengmai/AUTOMATION-GUIDE.md', category: 'docs' },
                        { name: 'ğŸ”„ GitHub Actions', url: 'https://github.com/Lynnlgh0824/chiengmai-activities/actions', category: 'tools' },
                        { name: 'ğŸ“ æµ‹è¯•æ€»ç»“', url: 'file:///Users/yuzhoudeshengyin/Documents/my_project/Chiengmai/docs/TESTING-SUMMARY.md', category: 'docs' },
                        { name: 'ğŸ¬ AIè§†é¢‘å·¥å…·ç ”ç©¶', url: 'https://www.synthesia.io/', category: 'learning' },
                        { name: 'ğŸ¤– HeyGen è§†é¢‘ç”Ÿæˆ', url: 'https://www.heygen.com/', category: 'learning' },
                        { name: 'ğŸ“º SaaSäº§å“æ¡ˆä¾‹', url: 'https://www.producthunt.com/', category: 'learning' }
                    ]
                },
                folder: '/Users/yuzhoudeshengyin/Desktop/AIç›¸å…³é¡¹ç›®/æ¸…è¿ˆæ´»åŠ¨/',
                projectFolder: '/Users/yuzhoudeshengyin/Documents/my_project/Chiengmai/',
                serverPort: 8001
            },
            'planning-system': {
                summary: {
                    title: 'ğŸ“‹ Planning æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ',
                    description: 'å¼€å‘æµç¨‹ã€éœ€æ±‚æ¨¡æ¿ã€BugæŠ¥å‘Šç­‰',
                    achievements: [
                        'âœ… åˆ›å»ºéœ€æ±‚æ¨¡æ¿æ–‡æ¡£',
                        'âœ… åˆ›å»ºBugæŠ¥å‘Šæ¨¡æ¿',
                        'âœ… åˆ›å»ºå¼€å‘æµç¨‹è§„èŒƒ'
                    ],
                    docs: [
                        { name: 'ğŸ“– Planningä½¿ç”¨æŒ‡å—', url: '/Users/yuzhoudeshengyin/Documents/my_project/Planning-with-Files-ä½¿ç”¨æŒ‡å—.md', category: 'docs' }
                    ]
                },
                folder: '/Users/yuzhoudeshengyin/Documents/my_project/'
            },
            'skills-development': {
                summary: {
                    title: 'âš¡ æŠ€èƒ½å¼€å‘ä¸å­¦ä¹ ',
                    description: 'å®ç”¨æŠ€èƒ½å·¥å…·é›†ï¼ŒåŒ…æ‹¬Bç«™éŸ³é¢‘ä¸‹è½½å·¥å…·ã€Claude CodeæŠ€èƒ½å¼€å‘ç­‰',
                    achievements: [
                        'âœ… å¼€å‘ Bilibili Audio Downloader å·¥å…·',
                        'âœ… å®ç°éŸ³é¢‘æ ¼å¼è½¬æ¢åŠŸèƒ½ï¼ˆM4Aâ†’MP3ï¼‰',
                        'âœ… æ”¯æŒæ‰¹é‡ä¸‹è½½å’ŒéŸ³é¢‘è´¨é‡è°ƒèŠ‚',
                        'âœ… é›†æˆ yt-dlp å’Œ ffmpeg å·¥å…·',
                        'âœ… å­¦ä¹  Planning with Files å·¥å…·',
                        'âœ… åˆ›å»ºæŠ€èƒ½ç›®å½•ç»“æ„å’Œæ–‡æ¡£'
                    ],
                    docs: [
                        { name: 'ğŸ“– Skills é¡¹ç›®è¯´æ˜', url: '/Users/yuzhoudeshengyin/Documents/my_project/skills/README.md', category: 'docs' },
                        { name: 'ğŸµ Bç«™éŸ³é¢‘ä¸‹è½½å·¥å…·', url: '/Users/yuzhoudeshengyin/Documents/my_project/skills/bili-audio-downloader/README.md', category: 'tools' },
                        { name: 'ğŸ“ Bç«™éŸ³é¢‘è¯¦ç»†æ–‡æ¡£', url: '/Users/yuzhoudeshengyin/Documents/my_project/skills/bili-audio-downloader/BILIBILI_AUDIO_README.md', category: 'docs' },
                        { name: 'ğŸ“œ Bç«™éŸ³é¢‘ä¸»ç¨‹åº', url: '/Users/yuzhoudeshengyin/Documents/my_project/skills/bili-audio-downloader/bilibili-audio.js', category: 'script' },
                        { name: 'â˜ï¸ å¤¸å…‹ç½‘ç›˜ä¸‹è½½å·¥å…·', url: '/Users/yuzhoudeshengyin/Documents/my_project/skills/kuake--audio-downloader/README.md', category: 'tools' },
                        { name: 'ğŸ å¤¸å…‹ä¸‹è½½ä¸»ç¨‹åº', url: '/Users/yuzhoudeshengyin/Documents/my_project/skills/kuake--audio-downloader/quark-download.py', category: 'script' },
                        { name: 'ğŸ“– éœ€æ±‚æ¨¡æ¿', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/REQUIREMENT-TEMPLATE.md', category: 'docs' },
                        { name: 'ğŸ› BugæŠ¥å‘Šæ¨¡æ¿', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/BUG-REPORT-TEMPLATE.md', category: 'docs' },
                        { name: 'ğŸ”„ å¼€å‘æµç¨‹', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/DEVELOPMENT-PROCESS.md', category: 'docs' },
                        { name: 'ğŸ’¬ æ²Ÿé€šåè®®', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/COMMUNICATION-PROTOCOL.md', category: 'docs' },
                        { name: 'ğŸ“ˆ æ”¹è¿›æŒ‡å—', url: '/Users/yuzhoudeshengyin/Documents/my_project/english-learning/docs/IMPROVEMENT-GUIDE.md', category: 'docs' },
                        { name: 'ğŸ¯ é¡¹ç›®ç®¡ç†æœ€ä½³å®è·µ', url: 'https://www.pmi.org/', category: 'learning' },
                        { name: 'ğŸ’¡ æ•æ·å¼€å‘', url: 'https://www.scrum.org/', category: 'learning' },
                        { name: 'ğŸ“Š ä»£ç è´¨é‡ç®¡ç†', url: 'https://www.sonarsource.com/', category: 'learning' },
                        { name: 'ğŸ§ª æµ‹è¯•é©±åŠ¨å¼€å‘', url: 'https://jestjs.io/', category: 'learning' },
                        { name: 'ğŸ¨ UI/UX è®¾è®¡åŸåˆ™', url: 'https://www.nngroup.com/', category: 'learning' },
                        { name: 'ğŸ“ æŠ€æœ¯å†™ä½œ', url: 'https://developers.google.com/tech-writing', category: 'learning' },
                        { name: 'ğŸ” ä»£ç å®¡æŸ¥', url: 'https://www.phacility.com/arcanist/', category: 'learning' },
                        { name: 'ğŸ  ä¸»é¡µï¼ˆè‡ªåŠ¨é€‚é…ï¼‰', url: 'http://localhost:3000/index.html', category: 'docs' },
                        { name: 'âš™ï¸ ç®¡ç†é¡µé¢', url: 'http://localhost:3000/admin.html', category: 'docs' },
                        { name: 'ğŸ§ª ç»¼åˆæµ‹è¯•é¢æ¿', url: 'http://localhost:3000/test-dashboard.html', category: 'tools' },
                        { name: 'ğŸ“Š è®¿é—®ä»ªè¡¨æ¿', url: 'http://localhost:3000/tests/test-dashboard-enhanced.html', category: 'tools' },
                        { name: 'ğŸ”Œ åº”ç”¨ç‰ˆæœ¬ API', url: 'http://localhost:3000/app/version', category: 'tools' },
                        { name: 'ğŸ“¡ æ•°æ®ç‰ˆæœ¬ API', url: 'http://localhost:3000/api/version', category: 'tools' },
                        { name: 'ğŸ“Š æ´»åŠ¨æ•°æ® API', url: 'http://localhost:3000/api/activities', category: 'tools' },
                        { name: 'ğŸ“– æµ‹è¯•æ€ç»´æ–¹æ³•è®º', url: 'http://localhost:3000/docs/æµ‹è¯•æ€ç»´æ–¹æ³•è®º.md', category: 'docs' },
                        { name: 'ğŸ“š æµ‹è¯•åŠŸèƒ½è¯´æ˜', url: 'http://localhost:3000/docs/æµ‹è¯•åŠŸèƒ½è¯´æ˜.md', category: 'docs' },
                        { name: 'ğŸ—‚ï¸ é¡¹ç›®æ–‡ä»¶ç»“æ„', url: 'http://localhost:3000/docs/é¡¹ç›®æ–‡ä»¶ç»“æ„è¯´æ˜.md', category: 'docs' },
                        { name: 'ğŸ“‹ é¡¹ç›®é“¾æ¥æ¸…å•', url: 'http://localhost:3000/docs/é¡¹ç›®é“¾æ¥æ¸…å•.md', category: 'docs' }
                    ],
                },
                skills: '/Users/yuzhoudeshyin/.claude/skills/',
                desktop: '/Users/yuzhoudeshengyin/Desktop/',
                folder: '/Users/yuzhoudeshengyin/Documents/my_project/skills/'
            }
        };

        // é“¾æ¥åˆ†ç±»é…ç½®
        const linkCategories = {
            'docs': { icon: 'ğŸ“š', title: 'æ–‡æ¡£èµ„æ–™', color: '#3a3a3a', desc: 'é¡¹ç›®æ–‡æ¡£ã€ä½¿ç”¨æŒ‡å—' },
            'tools': { icon: 'ğŸ› ï¸', title: 'å·¥å…·å’Œæµ‹è¯•', color: '#6a6a6a', desc: 'æµ‹è¯•å·¥å…·ã€è‡ªåŠ¨åŒ–è„šæœ¬' },
            'test': { icon: 'ğŸ§ª', title: 'æµ‹è¯•å·¥å…·', color: '#5a5a5a', desc: 'æµ‹è¯•é¡µé¢ã€éªŒè¯å·¥å…·' },
            'script': { icon: 'ğŸ“œ', title: 'è„šæœ¬æ–‡ä»¶', color: '#4a4a4a', desc: 'JavaScriptã€è‡ªåŠ¨åŒ–è„šæœ¬' },
            'learning': { icon: 'ğŸ¬', title: 'å­¦ä¹ èµ„æº', color: '#6a6a6a', desc: 'è§†é¢‘å­¦ä¹ è®°å½•' },
            'paths': { icon: 'ğŸ“‚', title: 'é¡¹ç›®è·¯å¾„', color: '#6a6a6a', desc: 'æ–‡ä»¶å¤¹å’Œå·¥ä½œåŒº' }
        };

        let currentProjectFilter = null; // å½“å‰ç­›é€‰çš„é¡¹ç›®ID

        // æ›´æ–°é¡¶éƒ¨æ ‡é¢˜ä¸­çš„é¡¹ç›®åç§°
        function updateHeaderProjectName(projectId) {
            const projectNameEl = document.getElementById('currentProjectName');
            if (!projectId) {
                // æ˜¾ç¤ºå…¨éƒ¨é¡¹ç›®
                projectNameEl.textContent = '';
                return;
            }

            const projects = getProjects();
            const project = projects.find(p => p.id === projectId);
            if (project) {
                projectNameEl.textContent = `ï¼ˆ${project.name}ï¼‰`;
            }
        }

        // æ¸²æŸ“å¿«é€Ÿå…¥å£åŒºåŸŸ
        function renderQuickAccess() {
            const projects = getProjects();
            const logs = getLogs();
            const container = document.getElementById('quickAccessProjects');
            container.innerHTML = '';

            if (projects.length === 0) {
                container.innerHTML = '<div style="color: #999; font-size: 13px; padding: 10px 0;">æš‚æ— é¡¹ç›®ï¼Œç‚¹å‡»å³ä¾§æŒ‰é’®åˆ›å»º</div>';
                return;
            }

            projects.forEach(project => {
                const projectLogs = logs.filter(log => log.projectId === project.id);
                const logCount = projectLogs.length;
                const isActive = currentProjectFilter === project.id;
                const projectInfo = projectData[project.id];
                const folderPath = projectInfo?.folder || '';

                const card = document.createElement('div');
                card.className = 'quick-project-card' + (isActive ? ' active' : '');
                card.style.cursor = 'pointer';

                // å•å‡»å¡ç‰‡è¿›è¡Œé¡¹ç›®ç­›é€‰
                card.addEventListener('click', () => {
                    filterByProject(project.id);
                });

                // åŒå‡»å¡ç‰‡æ—¶åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹
                card.addEventListener('dblclick', (e) => {
                    e.stopPropagation();
                    openProjectFolder(folderPath, project.name);
                });

                // è·å–é¡¹ç›®å›¾æ ‡ï¼ˆå¦‚æœæœ‰ï¼‰
                const icon = project.icon || 'ğŸ“';

                card.innerHTML = `
                    <span class="project-icon">${icon}</span>
                    <span class="project-name">${project.name}</span>
                `;

                container.appendChild(card);
            });
        }

        // æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹
        function openProjectFolder(folderPath, projectName) {
            if (!folderPath) {
                alert(`é¡¹ç›® "${projectName}" æœªé…ç½®æœ¬åœ°è·¯å¾„`);
                return;
            }

            // ä½¿ç”¨ file:// åè®®åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€
            const fileUrl = 'file://' + folderPath;
            window.open(fileUrl, '_blank');
        }

        // æ¸²æŸ“é¡¹ç›®åˆ—è¡¨
        function renderProjectList() {
            const projects = getProjects();
            const container = document.getElementById('projectList');
            container.innerHTML = '';

            // æ·»åŠ "å…¨éƒ¨é¡¹ç›®"é€‰é¡¹
            const allDiv = document.createElement('div');
            allDiv.className = 'project-item' + (currentProjectFilter === null ? ' active' : '');
            allDiv.onclick = () => filterByProject(null);
            allDiv.innerHTML = `
                <div class="project-name">ğŸ“‚ å…¨éƒ¨é¡¹ç›®</div>
                <div class="project-date">æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—</div>
            `;
            container.appendChild(allDiv);

            projects.forEach(project => {
                const div = document.createElement('div');
                div.className = 'project-item' + (currentProjectFilter === project.id ? ' active' : '');
                div.onclick = () => filterByProject(project.id);
                div.innerHTML = `
                    <div class="project-name">${project.name}</div>
                    <div class="project-date">å¼€å§‹: ${project.startDate}</div>
                `;
                container.appendChild(div);
            });

            renderProjectStats();
        }

        // æ¸²æŸ“é¡¹ç›®ç»Ÿè®¡
        function renderProjectStats() {
            const projects = getProjects();
            const logs = getLogs();
            const container = document.getElementById('projectStats');

            let html = '';

            projects.forEach(project => {
                const projectLogs = logs.filter(log => log.projectId === project.id);
                const days = [...new Set(projectLogs.map(log => log.date))].length;

                html += `
                    <div style="margin-bottom: 15px; font-size: 13px;">
                        <div style="font-weight: 600; margin-bottom: 5px;">${project.name}</div>
                        <div style="color: #666;">
                            ğŸ“ ${projectLogs.length} æ¡æ—¥å¿— | ğŸ“… ${days} å¤©
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // æŒ‰é¡¹ç›®ç­›é€‰
        function filterByProject(projectId) {
            currentProjectFilter = projectId;

            // æ›´æ–°é¡¶éƒ¨æ ‡é¢˜ä¸­çš„é¡¹ç›®åç§°
            updateHeaderProjectName(projectId);

            renderProjectList();
            renderQuickAccess();
            renderAll();

            // æ£€æŸ¥å½“å‰æ´»è·ƒçš„æ ‡ç­¾é¡µå¹¶é‡æ–°æ¸²æŸ“å†…å®¹
            const activeTabBtn = document.querySelector('.tab-btn.active');
            if (activeTabBtn) {
                const tabText = activeTabBtn.textContent;
                if (tabText.includes('ğŸ“š é¡¹ç›®æ€»ç»“')) {
                    renderSummaryContent();
                } else if (tabText.includes('ğŸ“ é¡¹ç›®èµ„æº')) {
                    renderProjectResources();
                } else if (tabText.includes('âœ… å¾…åŠæ¸…å•')) {
                    renderTodosContent();
                } else {
                    // å¦‚æœä¸åœ¨æ€»ç»“ã€èµ„æºæˆ–å¾…åŠæ ‡ç­¾é¡µï¼Œåˆ‡æ¢åˆ°å·¥ä½œæ—¥å¿—
                    switchTab('logs');
                }
            } else {
                // å¦‚æœæ²¡æœ‰æ´»è·ƒæ ‡ç­¾é¡µï¼Œåˆ‡æ¢åˆ°å·¥ä½œæ—¥å¿—
                switchTab('logs');
            }
        }

        // æ˜¾ç¤ºæ·»åŠ é¡¹ç›®è¡¨å•
        function showAddProjectForm() {
            document.getElementById('addProjectForm').style.display = 'block';
        }

        // éšè—æ·»åŠ é¡¹ç›®è¡¨å•
        function hideAddProjectForm() {
            document.getElementById('addProjectForm').style.display = 'none';
            document.getElementById('newProjectName').value = '';
        }

        // æ·»åŠ æ–°é¡¹ç›®
        function addNewProject() {
            const name = document.getElementById('newProjectName').value.trim();
            if (!name) {
                alert('è¯·è¾“å…¥é¡¹ç›®åç§°');
                return;
            }

            const projects = getProjects();
            const newProject = {
                id: 'project-' + Date.now(),
                name: name,
                startDate: new Date().toISOString().split('T')[0]
            };

            projects.push(newProject);
            localStorage.setItem(PROJECTS_KEY, JSON.stringify(projects));

            hideAddProjectForm();
            renderProjectList();
            renderQuickAccess();

            // æ›´æ–°æ—¥å¿—è¡¨å•çš„é¡¹ç›®é€‰æ‹©å™¨
            updateProjectSelector();

            alert('âœ… é¡¹ç›®å·²æ·»åŠ ');
        }

        // æ›´æ–°é¡¹ç›®é€‰æ‹©å™¨
        function updateProjectSelector() {
            const projects = getProjects();
            const select = document.getElementById('projectSelect');
            const currentValue = select.value;

            select.innerHTML = projects.map(p =>
                `<option value="${p.id}">${p.name}</option>`
            ).join('') + '<option value="other">å…¶ä»–é¡¹ç›®</option>';

            if (currentValue) {
                select.value = currentValue;
            }
        }

        // ç”Ÿæˆå†å²é¡¹ç›®æ—¥å¿—ï¼ˆåªè®°å½•æœ‰å®é™…ç¼–ç å·¥ä½œçš„æ—¥æœŸï¼‰
        function generateProjectHistory() {
            const logs = getLogs();

            const historyLogs = [];

            // 2æœˆ25æ—¥ï¼šé¡¹ç›®ç³»ç»Ÿä¼˜åŒ–
            historyLogs.push({
                id: Date.now().toString(),
                projectId: 'project-organization',
                projectName: 'é¡¹ç›®ç®¡ç†æ±‡æ€»',
                date: '2026-02-25',
                datetime: new Date().toLocaleString('zh-CN'),
                title: 'ğŸ¨ é¡¹ç›®ç³»ç»Ÿç•Œé¢ä¼˜åŒ–',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }],
                items: [
                    'âœ… ä¼˜åŒ–å¿«é€Ÿå…¥å£åŒºåŸŸ - æ”¹ä¸ºTabæ ·å¼ï¼Œæ¨ªå‘æ»šåŠ¨æ˜¾ç¤º',
                    'âœ… ç®€åŒ–HeaderåŒºåŸŸ - å»é™¤å‰¯æ ‡é¢˜ï¼Œå‡å°‘é«˜åº¦',
                    'âœ… ä¼˜åŒ–é¡¹ç›®åç§°æ˜¾ç¤º - æ›´æ–°æ‰€æœ‰é¡¹ç›®åç§°ä¸ºç®€æ´ç‰ˆæœ¬',
                    'âœ… å®ç°æ•°æ®è¿ç§»åŠŸèƒ½ - è‡ªåŠ¨æ›´æ–°localStorageä¸­çš„æ—§æ•°æ®',
                    'âœ… ç»Ÿä¸€é¡¹ç›®åç§° - é¡¹ç›®ç®¡ç†æ±‡æ€»ã€è‹±è¯­æœ—è¯»å­¦ä¹ ã€æ¸…è¿ˆæ´»åŠ¨å¹³å°ã€AI SaaS è§†é¢‘'
                ],
                code: null
            });

            // 2æœˆ24æ—¥ï¼šè‹±è¯­æœ—è¯»å­¦ä¹ ï¼ˆå…¨å¤©å¤§é‡å·¥ä½œï¼‰
            historyLogs.push({
                id: (Date.now() - 86400000).toString(),
                projectId: 'english-learning-tts',
                projectName: 'è‹±è¯­æœ—è¯»å­¦ä¹ ',
                date: '2026-02-24',
                datetime: new Date(Date.now() - 86400000).toLocaleString('zh-CN'),
                title: 'ğŸš€ TTSç³»ç»Ÿå…¨é¢ä¼˜åŒ– + æµ‹è¯•ä½“ç³»å®Œå–„',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }, { name: 'ğŸ”§ ä¿®å¤', type: 'fix' }, { name: 'ğŸ“š æ–‡æ¡£', type: 'improvement' }],
                items: [
                    'âœ… ä¿®å¤TTS Canceledé”™è¯¯ - è§£å†³æµè§ˆå™¨æ‰©å±•å¹²æ‰°',
                    'âœ… ä¿®å¤TTSåƒµå°¸çŠ¶æ€ - tts-engine-recovery.html',
                    'âœ… åˆ›å»ºæµ‹è¯•å·¥å…·ä¸­å¿ƒ - test-hub.htmlï¼ˆé›†æˆç‰ˆï¼‰',
                    'âœ… åˆ›å»ºæˆªå›¾å·¥å…· - screenshot-tool.html',
                    'âœ… åˆ›å»ºè°ƒè¯•æ§åˆ¶å° - debug-console.js + debug-console-demo.html',
                    'âœ… åˆ›å»ºE2Eè‡ªåŠ¨åŒ–æµ‹è¯• - automated-e2e-test.js',
                    'âœ… åˆ›å»ºéªŒè¯å·¥å…· - validate-tts-code.js, tts-validator.js',
                    'âœ… åˆ›å»º5ä¸ªå­¦ä¹ è®°å½•HTML - beginner-tennisç­‰',
                    'âœ… åˆ›å»ºå®æ—¶æµ‹è¯• - realistic-learning-test.js',
                    'âœ… æ›´æ–°ä¸»é¡µé¢ - index.html å…¨é¢ä¼˜åŒ–',
                    'âœ… åˆ›å»º25+æŠ€æœ¯æ–‡æ¡£ - ä¿®å¤æŒ‡å—ã€å¯¹æ¯”åˆ†æã€æµ‹è¯•æŠ¥å‘Šç­‰',
                    'âœ… Web Speech APIå¯¹æ¯”åˆ†æ',
                    'âœ… éŸ³é¢‘æ’­æ”¾å™¨å¯¹æ¯”ç ”ç©¶',
                    'âœ… WebSocketæœåŠ¡å™¨ - websocket-server.js',
                    'âœ… TTSæ ¸å¿ƒè„šæœ¬é‡å¤§æ›´æ–° - tts-common.jsï¼ˆ57KBï¼‰'
                ],
                code: null
            });

            // 2æœˆ24æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 1 - 1).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-02-24',
                datetime: new Date(Date.now() - 86400000 * 1 - 1).toLocaleString('zh-CN'),
                title: 'ğŸ“Š æ¸…è¿ˆæ´»åŠ¨æ•°æ®åŒæ­¥ä¸æ–‡æ¡£å®Œå–„',
                tags: [{ name: 'ğŸ“š æ–‡æ¡£', type: 'improvement' }, { name: 'âœ¨ æ–°åŠŸèƒ½', type: 'feature' }],
                items: [
                    'âœ… æ›´æ–°ä¸»é¡µé¢ - index.html ä¼˜åŒ–',
                    'âœ… åˆ›å»ºæ•°æ®åŒæ­¥æŒ‡å— - DATA-SYNC-GUIDE.md',
                    'âœ… åˆ›å»ºæ•°æ®éªŒè¯æŒ‡å— - DATA-VALIDATION-GUIDE.md',
                    'âœ… æ›´æ–°è¿æ¥ä¿¡æ¯æ–‡æ¡£ - CONNECTION-INFO.md',
                    'âœ… åˆ›å»ºéƒ¨ç½²æ£€æŸ¥æ¸…å• - DEPLOYMENT-CHECKLIST.md'
                ],
                code: null
            });

            // 2æœˆ8æ—¥ï¼šé¡¹ç›®ç®¡ç†æ±‡æ€»
            historyLogs.push({
                id: (Date.now() - 86400000 * 17).toString(),
                projectId: 'project-organization',
                projectName: 'é¡¹ç›®ç®¡ç†æ±‡æ€»',
                date: '2026-02-08',
                datetime: new Date(Date.now() - 86400000 * 17).toLocaleString('zh-CN'),
                title: 'ğŸ“‹ é¡¹ç›®èµ„æºç®¡ç†ä¼˜åŒ–',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }],
                items: [
                    'âœ… æ›´æ–°é¡¹ç›®èµ„æºé…ç½® - project-resources.js',
                    'âœ… åˆ›å»ºæµ‹è¯•å·¥å…·æ–‡æ¡£ - TEST_TOOLS.md',
                    'âœ… åˆ›å»ºå…¨é¡¹ç›®æµ‹è¯•è„šæœ¬ - test-full-project.js',
                    'âœ… åˆ›å»ºTTSä»£ç éªŒè¯å·¥å…· - validate-tts-code.js',
                    'âœ… åˆ›å»ºè‡ªåŠ¨æ—¥å¿—æ•è·å·¥å…· - auto-log-capture.html',
                    'âœ… åˆ›å»ºTTSè°ƒè¯•å·¥å…· - tts-debug.html'
                ],
                code: null
            });

            // 2æœˆ8æ—¥ï¼šAI SaaS è§†é¢‘é¡¹ç›®
            historyLogs.push({
                id: (Date.now() - 86400000 * 17 - 1).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-02-08',
                datetime: new Date(Date.now() - 86400000 * 17 - 1).toLocaleString('zh-CN'),
                title: 'ğŸ”§ Next.js æ„å»ºä¼˜åŒ–',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }],
                items: [
                    'âœ… æ›´æ–° Next.js æ„å»ºæ–‡ä»¶ - .next/server/*.js',
                    'âœ… æ›´æ–°ä¸­é—´ä»¶é…ç½® - middleware-build-manifest.js',
                    'âœ… ä¼˜åŒ–é™æ€èµ„æºç”Ÿæˆ - _buildManifest.js, _ssgManifest.js'
                ],
                code: null
            });

            // 2æœˆ7æ—¥ï¼šAI SaaS è§†é¢‘é¡¹ç›®
            historyLogs.push({
                id: (Date.now() - 86400000 * 18).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-02-07',
                datetime: new Date(Date.now() - 86400000 * 18).toLocaleString('zh-CN'),
                title: 'ğŸ—ï¸ é¡¹ç›®æ„å»ºä¸éƒ¨ç½²',
                tags: [{ name: 'ğŸ—ï¸ æ„å»º', type: 'improvement' }],
                items: [
                    'âœ… æ‰§è¡Œ Next.js æ„å»º - npm run build',
                    'âœ… ç”ŸæˆæœåŠ¡å™¨ç«¯æ¸…å• - server-reference-manifest.js',
                    'âœ… é…ç½®è·¯ç”±é‡å†™ - interception-route-rewrite-manifest.js',
                    'âœ… é…ç½®å­—ä½“åŠ è½½ - next-font-manifest.js',
                    'âœ… ç”Ÿæˆä¸­é—´ä»¶æ¸…å• - middleware-react-loadable-manifest.js'
                ],
                code: null
            });

            // 2æœˆ5æ—¥ï¼šAI SaaSè§†é¢‘é¡¹ç›®å¼€å‘
            historyLogs.push({
                id: (Date.now() - 86400000 * 20).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-02-05',
                datetime: new Date(Date.now() - 86400000 * 20).toLocaleString('zh-CN'),
                title: 'ğŸ’» æ ¸å¿ƒåŠŸèƒ½å¼€å‘',
                tags: [{ name: 'ğŸ’» å¼€å‘', type: 'development' }],
                items: [
                    'âœ… å¼€å‘è§†é¢‘ä¸Šä¼ ç»„ä»¶',
                    'âœ… å®ç°AIè§†é¢‘ç”Ÿæˆæ¥å£',
                    'âœ… åˆ›å»ºç”¨æˆ·è®¤è¯ç³»ç»Ÿ',
                    'âœ… å¼€å‘è§†é¢‘ç¼–è¾‘åŠŸèƒ½',
                    'âœ… å®ç°6ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—'
                ],
                code: null
            });

            // 2æœˆ4æ—¥ï¼šAI SaaSè§†é¢‘é¡¹ç›®é…ç½®
            historyLogs.push({
                id: (Date.now() - 86400000 * 21).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-02-04',
                datetime: new Date(Date.now() - 86400000 * 21).toLocaleString('zh-CN'),
                title: 'âš™ï¸ é¡¹ç›®é…ç½®ä¸ä¾èµ–',
                tags: [{ name: 'ğŸ”§ é…ç½®', type: 'improvement' }],
                items: [
                    'âœ… é…ç½®Next.jsé¡¹ç›®ç»“æ„',
                    'âœ… é›†æˆshadcn/uiç»„ä»¶åº“',
                    'âœ… é…ç½®Tailwind CSS',
                    'âœ… è®¾ç½®ç¯å¢ƒå˜é‡',
                    'âœ… é…ç½®3ä¸ªæ ¸å¿ƒä¾èµ–'
                ],
                code: null
            });

            // 2æœˆ3æ—¥ï¼šAI SaaSè§†é¢‘é¡¹ç›®åˆå§‹åŒ–
            historyLogs.push({
                id: (Date.now() - 86400000 * 22).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-02-03',
                datetime: new Date(Date.now() - 86400000 * 22).toLocaleString('zh-CN'),
                title: 'ğŸš€ AI SaaSè§†é¢‘é¡¹ç›®åˆå§‹åŒ–',
                tags: [{ name: 'ğŸš€ å¯åŠ¨', type: 'feature' }],
                items: [
                    'âœ… åˆå§‹åŒ–Next.jsé¡¹ç›®',
                    'âœ… åˆ›å»ºé¡¹ç›®åŸºç¡€ç»“æ„',
                    'âœ… é…ç½®TypeScript',
                    'âœ… è®¾ç½®ESLintå’ŒPrettier',
                    'âœ… åˆ›å»º349ä¸ªé¡¹ç›®æ–‡ä»¶',
                    'âœ… æ­å»ºåŸºç¡€é¡µé¢æ¡†æ¶',
                    'âœ… é…ç½®è·¯ç”±ç³»ç»Ÿ'
                ],
                code: null
            });

            // 2æœˆ6æ—¥ï¼šé¡¹ç›®ç®¡ç†æ±‡æ€»
            historyLogs.push({
                id: (Date.now() - 86400000 * 19).toString(),
                projectId: 'project-organization',
                projectName: 'é¡¹ç›®ç®¡ç†æ±‡æ€»',
                date: '2026-02-06',
                datetime: new Date(Date.now() - 86400000 * 19).toLocaleString('zh-CN'),
                title: 'ğŸ—‚ï¸ é¡¹ç›®ç»„ç»‡ä¼˜åŒ– + æ¡Œé¢é“¾æ¥ä¿®å¤',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }, { name: 'ğŸ”§ ä¿®å¤', type: 'fix' }],
                items: [
                    'âœ… æ¸…ç†é¡¹ç›®ç›®å½• - å°† Chiengmai.backup å’Œ Chiengmai-backup-20260129-011001 å‹ç¼©å½’æ¡£åˆ° Chiengmai/archives',
                    'âœ… é‡ç»„é¡¹ç›®ç»“æ„ - åˆ›å»º project summary ç›®å½•ï¼Œé›†ä¸­ç®¡ç†é¡¹ç›®æ—¥å¿—å’Œç»éªŒæ€»ç»“',
                    'âœ… ä¿®å¤æ¡Œé¢å¿«æ·æ–¹å¼ - æ›´æ–° ğŸ“…é¡¹ç›®æ—¥å¿—.html å’Œ ğŸ“šé¡¹ç›®æ€»ç»“.html é“¾æ¥è·¯å¾„',
                    'âœ… ä¿®å¤"æ‰“å¼€è‹±è¯­å­¦ä¹ .app" - æ¸…ç†æ—§è¿›ç¨‹ï¼Œæ›´æ–°è·¯å¾„åˆ° ~/Documents/my_project/english-learning',
                    'âœ… æ·»åŠ æ•°æ®è‡ªåŠ¨ä¿å­˜ - ä½¿ç”¨ File System Access API å®ç°æœ¬åœ°æ–‡ä»¶è‡ªåŠ¨ä¿å­˜',
                    'âœ… ä¼˜åŒ–é¡¹ç›®æ—¥å¿—ç³»ç»Ÿ - æ·»åŠ æ¬¢è¿å¼•å¯¼ã€ä¿å­˜æç¤ºã€å¼‚æ­¥éé˜»å¡ä¿å­˜',
                    'âœ… åˆ›å»ºå½’æ¡£è§„èŒƒ - Chiengmai/archives/README.md',
                    'âœ… æ›´æ–°æ¡Œé¢é“¾æ¥éªŒè¯ - ç¡®ä¿æ‰€æœ‰3ä¸ªæ¡Œé¢å›¾æ ‡æ­£å¸¸å·¥ä½œ'
                ],
                code: `// æ•°æ®è‡ªåŠ¨ä¿å­˜å®ç°
async function autoSaveToFile(logs) {
    if (fileHandle) {
        const writable = await fileHandle.createWritable();
        await writable.write(JSON.stringify(data, null, 2));
        await writable.close();
        showSaveNotification();
        return;
    }
    setTimeout(async () => {
        fileHandle = await window.showSaveFilePicker({...});
    }, 100);
}`
            });

            // 2æœˆ6æ—¥ï¼šTTSåŠŸèƒ½å®Œå–„ + UIä¼˜åŒ–
            historyLogs.push({
                id: (Date.now() - 86400000 * 19 - 1).toString(),
                projectId: 'english-learning-tts',
                projectName: 'è‹±è¯­æœ—è¯»å­¦ä¹ ',
                date: '2026-02-06',
                datetime: new Date(Date.now() - 86400000 * 19).toLocaleString('zh-CN'),
                title: 'ğŸ¨ TTS UIä¼˜åŒ– + ç”¨æˆ·ä½“éªŒæå‡',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }],
                items: [
                    'âœ… å®ç°å¥å­é—´1ç§’åœé¡¿ - ä½¿ç”¨é€’å½’æ’­æ”¾ + setTimeout',
                    'âœ… è°ƒæ•´è¯­é€Ÿè®¾ç½® - å¿«é€Ÿ1.0xã€æ ‡å‡†0.5xã€ç¼“æ…¢0.25x',
                    'âœ… ä¼˜åŒ–æ§åˆ¶é¢æ¿å¸ƒå±€ - å›ºå®šå®½åº¦840pxï¼Œé˜²æ­¢é®æŒ¡å†…å®¹',
                    'âœ… å®ç°é¢æ¿ç²˜æ€§å®šä½ - æ»šåŠ¨50pxåè‡ªåŠ¨å›ºå®šåœ¨é¡¶éƒ¨',
                    'âœ… æ·»åŠ å ä½å…ƒç´  - é˜²æ­¢é¢æ¿å›ºå®šæ—¶å†…å®¹è·³åŠ¨',
                    'âœ… ä¼˜åŒ–æŒ‰é’®æ ·å¼ - æ¿€æ´»çŠ¶æ€åŠ å®½ã€åŠ ç²—ã€ä¸»é¢˜è‰²æ¸å˜',
                    'âœ… æ›´æ¢å›¾æ ‡ - æœ—è¯»æŒ‰é’®ğŸ™ï¸ã€æ ‡å‡†æ¨¡å¼ğŸ”¥ã€ç¼“æ…¢æ¨¡å¼ğŸ“š',
                    'âœ… ç¼©å°è¯­éŸ³é€‰æ‹©æ¡†å®½åº¦ - æœ€å¤§200pxã€æœ€å°150px',
                    'âœ… ç§»é™¤"ä»åˆ’è¯åŒºåŸŸå¼€å§‹"æŒ‰é’® - åŠŸèƒ½æ•´åˆåˆ°æ’­æ”¾æŒ‰é’®',
                    'âœ… æ’­æ”¾æŒ‰é’®æ™ºèƒ½åˆ¤æ–­ - ä¼˜å…ˆä»é€‰ä¸­ä½ç½®å¼€å§‹æ’­æ”¾',
                    'âœ… è¡¥å……å†å²æ—¥å¿— - æ ¹æ®å®é™…å·¥ä½œå†…å®¹è‡ªåŠ¨ç”Ÿæˆ'
                ],
                code: null
            });

            // 2æœˆ5æ—¥ï¼šTTSæ ¸å¿ƒé—®é¢˜ä¿®å¤
            historyLogs.push({
                id: (Date.now() - 86400000 * 20).toString(),
                projectId: 'english-learning-tts',
                projectName: 'è‹±è¯­æœ—è¯»å­¦ä¹ ',
                date: '2026-02-05',
                datetime: new Date(Date.now() - 86400000 * 20).toLocaleString('zh-CN'),
                title: 'ğŸ”§ TTSæ ¸å¿ƒé—®é¢˜ä¿®å¤',
                tags: [{ name: 'ğŸ”§ ä¿®å¤', type: 'fix' }, { name: 'âœ¨ æ–°åŠŸèƒ½', type: 'feature' }],
                items: [
                    'âœ… ä¿®å¤TTSé˜Ÿåˆ—ç­–ç•¥ - è§£å†³æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾ç­–ç•¥ not-allowed é”™è¯¯',
                    'âœ… ä¿®å¤å˜é‡ä½œç”¨åŸŸ - enhancedVoices ç»Ÿä¸€ä½¿ç”¨ window.enhancedVoices',
                    'âœ… ä¿®å¤ç±»å‹è½¬æ¢ - voiceSelect.value æ·»åŠ  parseInt()',
                    'âœ… åˆ é™¤é‡å¤ä»£ç  - ç§»é™¤4ä¸ªHTMLæ–‡ä»¶ä¸­903è¡Œé‡å¤ä»£ç ',
                    'âœ… åˆ›å»ºå…¬å…±è„šæœ¬ - tts-common.jsã€page-common.jsã€tts-common.css',
                    'âœ… åˆ›å»ºè‡ªåŠ¨åŒ–æµ‹è¯• - auto-test-runner.htmlï¼ˆ7é¡¹æµ‹è¯•ï¼‰',
                    'âœ… åˆ›å»ºæ—¥å¿—ç³»ç»Ÿ - project-log.htmlï¼ˆæŒ‰æ—¥æœŸå’Œé¡¹ç›®ç»„ç»‡ï¼‰',
                    'âœ… åˆ›å»ºç»éªŒæ€»ç»“ - PROJECT-SUMMARY.htmlï¼ˆ9å¤§è¸©å‘+æœ€ä½³å®è·µï¼‰',
                    'âœ… åˆ›å»ºæµç¨‹æ–‡æ¡£ - éœ€æ±‚æ¨¡æ¿ã€BugæŠ¥å‘Šã€æ²Ÿé€šåè®®ã€å¼€å‘æµç¨‹',
                    'âœ… åˆ›å»ºéªŒè¯è„šæœ¬ - scripts/validate-project.shï¼ˆ53é¡¹æ£€æŸ¥ï¼‰',
                    'âœ… åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼ - é¡¹ç›®æ—¥å¿—ã€é¡¹ç›®æ€»ç»“',
                    'âœ… åˆ›å»ºå­¦ä¹ è®°å½• - 4ä¸ªYouTubeè§†é¢‘å­¦ä¹ å·¥å…·åŒ…',
                    'ğŸ“Š TTSæ’­æ”¾æµ‹è¯•é€šè¿‡'
                ],
                code: null
            });

            // 1æœˆ26æ—¥ï¼šæŠ€èƒ½å¼€å‘ä¸å­¦ä¹ 
            historyLogs.push({
                id: (Date.now() - 86400000 * 30).toString(),
                projectId: 'skills-development',
                projectName: 'æŠ€èƒ½å¼€å‘ä¸å­¦ä¹ ',
                date: '2026-01-26',
                datetime: new Date(Date.now() - 86400000 * 30).toLocaleString('zh-CN'),
                title: 'ğŸµ Bç«™éŸ³é¢‘ä¸‹è½½å·¥å…·å¼€å‘',
                tags: [{ name: 'ğŸ’» å¼€å‘', type: 'development' }],
                items: [
                    'âœ… åˆ›å»º skills ç›®å½•ç»“æ„',
                    'âœ… å¼€å‘ Bilibili Audio Downloader å·¥å…·',
                    'âœ… å®ç° bilibili-audio.js ä¸»ç¨‹åº',
                    'âœ… åˆ›å»º package.json é¡¹ç›®é…ç½®',
                    'âœ… ç¼–å†™ README.md é¡¹ç›®è¯´æ˜æ–‡æ¡£',
                    'âœ… åˆ›å»º BILIBILI_AUDIO_README.md è¯¦ç»†ä½¿ç”¨æ–‡æ¡£',
                    'âœ… é…ç½® .gitignore æ–‡ä»¶',
                    'âœ… å®ç°éŸ³é¢‘ä¸‹è½½åŠŸèƒ½ï¼ˆM4Aæ ¼å¼ï¼‰',
                    'âœ… å®ç°éŸ³é¢‘æ ¼å¼è½¬æ¢ï¼ˆMP3ç­‰ï¼‰',
                    'âœ… æ”¯æŒæ‰¹é‡ä¸‹è½½åŠŸèƒ½',
                    'âœ… å¯è°ƒèŠ‚éŸ³é¢‘è´¨é‡ï¼ˆ0-9çº§åˆ«ï¼‰',
                    'âœ… è‡ªåŠ¨åˆ›å»ºè¾“å‡ºç›®å½•',
                    'âœ… é›†æˆ yt-dlp å’Œ ffmpeg å·¥å…·',
                    'âœ… æ·»åŠ å‘½ä»¤è¡Œå‚æ•°è§£æ',
                    'âœ… ä½œä¸ºæ¨¡å—å¯¼å‡ºåŠŸèƒ½'
                ],
                code: null
            });

            // 2æœˆ5æ—¥ï¼šæŠ€èƒ½å¼€å‘ä¸å­¦ä¹ 
            historyLogs.push({
                id: (Date.now() - 86400000 * 20 - 2).toString(),
                projectId: 'skills-development',
                projectName: 'æŠ€èƒ½å¼€å‘ä¸å­¦ä¹ ',
                date: '2026-02-05',
                datetime: new Date(Date.now() - 86400000 * 20 - 2).toLocaleString('zh-CN'),
                title: 'ğŸ“– Planning with Files å·¥å…·å­¦ä¹ ',
                tags: [{ name: 'ğŸ“š å­¦ä¹ ', type: 'learning' }],
                items: [
                    'âœ… å­¦ä¹  Planning with Files å·¥å…·',
                    'âœ… åˆ›å»ºä½¿ç”¨æŒ‡å—æ–‡æ¡£ - Planning-with-Files-ä½¿ç”¨æŒ‡å—.md'
                ],
                code: null
            });

            // 2æœˆ4æ—¥ï¼šClawdbot
            historyLogs.push({
                id: (Date.now() - 86400000 * 21).toString(),
                projectId: 'clawdbot-railway',
                projectName: 'Clawdbot',
                date: '2026-02-04',
                datetime: new Date(Date.now() - 86400000 * 21).toLocaleString('zh-CN'),
                title: 'ğŸ¤– Discord Bot æ¨¡æ¿ä¼˜åŒ–',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }],
                items: [
                    'âœ… æ›´æ–° README.md æ–‡æ¡£',
                    'âœ… ä¼˜åŒ–æœåŠ¡å™¨è„šæœ¬ - server.js',
                    'âœ… ä¼˜åŒ–åº”ç”¨è®¾ç½®è„šæœ¬ - setup-app.js',
                    'âœ… æ›´æ–°æµ‹è¯•è„šæœ¬ - smoke.js'
                ],
                code: null
            });

            // 2æœˆ7æ—¥ï¼šClawdbot
            historyLogs.push({
                id: (Date.now() - 86400000 * 18).toString(),
                projectId: 'clawdbot-railway',
                projectName: 'Clawdbot',
                date: '2026-02-07',
                datetime: new Date(Date.now() - 86400000 * 18).toLocaleString('zh-CN'),
                title: 'ğŸ”§ Discord Bot åŠŸèƒ½å®Œå–„',
                tags: [{ name: 'ğŸ’» å¼€å‘', type: 'development' }],
                items: [
                    'âœ… æ›´æ–° Bot æ ¸å¿ƒåŠŸèƒ½',
                    'âœ… ä¼˜åŒ–å‘½ä»¤å¤„ç†é€»è¾‘',
                    'âœ… å®Œå–„é”™è¯¯å¤„ç†æœºåˆ¶'
                ],
                code: null
            });

            // 2æœˆ8æ—¥ï¼šé¡¹ç›®ç®¡ç†æ±‡æ€»
            historyLogs.push({
                id: (Date.now() - 86400000 * 17).toString(),
                projectId: 'project-organization',
                projectName: 'é¡¹ç›®ç®¡ç†æ±‡æ€»',
                date: '2026-02-08',
                datetime: new Date(Date.now() - 86400000 * 17).toLocaleString('zh-CN'),
                title: 'ğŸ”§ é¡¹ç›®ç³»ç»Ÿå®Œå–„ä¸ä¿®å¤',
                tags: [{ name: 'ğŸ”§ ä¿®å¤', type: 'fix' }],
                items: [
                    'âœ… åˆ›å»ºDAILY_FIX_REPORT_2026-02-07.md',
                    'âœ… æ›´æ–°PROJECT_RESOURCES.md',
                    'âœ… ç¼–å†™TTS_TROUBLESHOOTING.mdæ•…éšœæ’æŸ¥',
                    'âœ… ä¿®å¤é¡¹ç›®æ—¥å¿—ç³»ç»Ÿé—®é¢˜'
                ],
                code: null
            });

            // 2æœˆ2æ—¥ï¼šAI SaaS è§†é¢‘
            historyLogs.push({
                id: (Date.now() - 86400000 * 23).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-02-02',
                datetime: new Date(Date.now() - 86400000 * 23).toLocaleString('zh-CN'),
                title: 'ğŸ“¦ AI SaaS è§†é¢‘é¡¹ç›®ä¾èµ–å®‰è£…',
                tags: [{ name: 'ğŸ”§ é…ç½®', type: 'improvement' }],
                items: [
                    'âœ… å®‰è£…é¡¹ç›®ä¾èµ– - pnpm install',
                    'âœ… é…ç½®æ„å»ºå·¥å…· - node-gyp-build',
                    'âœ… å®‰è£…æ ¸å¿ƒåº“ - lie, form-data, troika-three-utils'
                ],
                code: null
            });

            // 1æœˆ31æ—¥ï¼šè‹±è¯­æœ—è¯»å­¦ä¹ é¡¹ç›®å¯åŠ¨
            historyLogs.push({
                id: (Date.now() - 86400000 * 25).toString(),
                projectId: 'english-learning-tts',
                projectName: 'è‹±è¯­æœ—è¯»å­¦ä¹ ',
                date: '2026-01-31',
                datetime: new Date(Date.now() - 86400000 * 25).toLocaleString('zh-CN'),
                title: 'ğŸ¯ è‹±è¯­æœ—è¯»å­¦ä¹ é¡¹ç›®å¯åŠ¨',
                tags: [{ name: 'ğŸš€ å¯åŠ¨', type: 'feature' }],
                items: [
                    'âœ… åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„',
                    'âœ… åˆå§‹åŒ–åŸºç¡€HTMLé¡µé¢',
                    'âœ… è®¾è®¡TTSæœ—è¯»åŠŸèƒ½æ¶æ„',
                    'âœ… åˆ›å»ºå­¦ä¹ è®°å½•æ¨¡æ¿'
                ],
                code: null
            });

            // 1æœˆ28æ—¥ï¼šé¡¹ç›®ç®¡ç†æ±‡æ€»ç³»ç»Ÿè®¾è®¡
            historyLogs.push({
                id: (Date.now() - 86400000 * 28).toString(),
                projectId: 'project-organization',
                projectName: 'é¡¹ç›®ç®¡ç†æ±‡æ€»',
                date: '2026-01-28',
                datetime: new Date(Date.now() - 86400000 * 28).toLocaleString('zh-CN'),
                title: 'ğŸ“‹ é¡¹ç›®æ—¥å¿—ç³»ç»Ÿè®¾è®¡',
                tags: [{ name: 'ğŸ“ è®¾è®¡', type: 'documentation' }],
                items: [
                    'âœ… è®¾è®¡é¡¹ç›®æ—¥å¿—ç³»ç»Ÿæ¶æ„',
                    'âœ… åˆ›å»ºé¡¹ç›®ç»„ç»‡ç»“æ„è§„åˆ’',
                    'âœ… è®¾è®¡æ•°æ®å­˜å‚¨æ–¹æ¡ˆ',
                    'âœ… è§„åˆ’æ¡Œé¢å¿«æ·æ–¹å¼æ–¹æ¡ˆ'
                ],
                code: null
            });

            // 1æœˆ25æ—¥ï¼šAI SaaSè§†é¢‘æŠ€æœ¯é€‰å‹
            historyLogs.push({
                id: (Date.now() - 86400000 * 31).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-01-25',
                datetime: new Date(Date.now() - 86400000 * 31).toLocaleString('zh-CN'),
                title: 'ğŸ”§ æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡',
                tags: [{ name: 'ğŸ“š å­¦ä¹ ', type: 'learning' }],
                items: [
                    'âœ… ç ”ç©¶Next.jsæ¡†æ¶ç‰¹æ€§',
                    'âœ… åˆ†æshadcn/uiç»„ä»¶åº“',
                    'âœ… è°ƒç ”AIè§†é¢‘ç”ŸæˆAPI',
                    'âœ… è®¾è®¡é¡¹ç›®æŠ€æœ¯æ ˆæ–¹æ¡ˆ'
                ],
                code: null
            });

            // 1æœˆ22æ—¥ï¼šAI SaaSè§†é¢‘é¡¹ç›®è°ƒç ”
            historyLogs.push({
                id: (Date.now() - 86400000 * 34).toString(),
                projectId: 'aisaas-video',
                projectName: 'AI SaaS è§†é¢‘',
                date: '2026-01-22',
                datetime: new Date(Date.now() - 86400000 * 34).toLocaleString('zh-CN'),
                title: 'ğŸ“š AIè§†é¢‘SaaSé¡¹ç›®è°ƒç ”',
                tags: [{ name: 'ğŸ“š å­¦ä¹ ', type: 'learning' }],
                items: [
                    'âœ… æ”¶é›†AIè§†é¢‘å¥—å£³ç«™ç›¸å…³èµ„æ–™',
                    'âœ… ç ”ç©¶è§†é¢‘SaaSç«™ç¬¬äºŒæ¬¡ç›´æ’­å†…å®¹',
                    'âœ… åˆ†æAIè§†é¢‘ç”Ÿæˆå·¥å…·å¸‚åœº'
                ],
                code: null
            });

            // 1æœˆ20æ—¥ï¼šClawdboté¡¹ç›®è°ƒç ”
            historyLogs.push({
                id: (Date.now() - 86400000 * 36).toString(),
                projectId: 'clawdbot-railway',
                projectName: 'Clawdbot',
                date: '2026-01-20',
                datetime: new Date(Date.now() - 86400000 * 36).toLocaleString('zh-CN'),
                title: 'ğŸ¤– Discord Bot æ¨¡æ¿è°ƒç ”',
                tags: [{ name: 'ğŸ“š å­¦ä¹ ', type: 'learning' }],
                items: [
                    'âœ… ç ”ç©¶Discord Botå¼€å‘æ¡†æ¶',
                    'âœ… åˆ†æRailwayéƒ¨ç½²å¹³å°',
                    'âœ… å­¦ä¹ Botæ¨¡æ¿æ¶æ„è®¾è®¡',
                    'âœ… è°ƒç ”Discord APIæœ€ä½³å®è·µ'
                ],
                code: null
            });

            // 1æœˆ19æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 37).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-19',
                datetime: new Date(Date.now() - 86400000 * 37).toLocaleString('zh-CN'),
                title: 'ğŸ“‹ æ¸…è¿ˆæ´»åŠ¨å¹³å°è°ƒç ”',
                tags: [{ name: 'ğŸ“š å­¦ä¹ ', type: 'learning' }],
                items: [
                    'âœ… æ•´ç†æ¸…è¿ˆæ´»åŠ¨ç›¸å…³èµ„æ–™',
                    'âœ… æ”¶é›†æ¸…è¿ˆå…¨æ”»ç•¥ä¿¡æ¯',
                    'âœ… ç ”ç©¶æ¸…è¿ˆå°çµé€šå°ç¨‹åºæ–¹æ¡ˆ'
                ],
                code: null
            });

            // 1æœˆ24æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 32).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-24',
                datetime: new Date(Date.now() - 86400000 * 32).toLocaleString('zh-CN'),
                title: 'ğŸ”§ Reactæ ¸å¿ƒç»„ä»¶å¼€å‘',
                tags: [{ name: 'ğŸ’» å¼€å‘', type: 'development' }],
                items: [
                    'âœ… å¼€å‘ActivitiesPageé¡µé¢ç»„ä»¶',
                    'âœ… å®ç°activities.jsæ´»åŠ¨æ•°æ®ç®¡ç†',
                    'âœ… åˆ›å»ºflexibleActivities.jså¼¹æ€§æ´»åŠ¨æ•°æ®',
                    'âœ… å®ç°weeklySchedule.jså‘¨è®¡åˆ’æ•°æ®ç»“æ„',
                    'âœ… åˆ›å»ºå¼¹çª—æŒ‰é’®æ‚¬æµ®å¸ƒå±€ç»„ä»¶',
                    'âœ… å®ç°çŠ¶æ€å­—æ®µåŠŸèƒ½è¯´æ˜æ¨¡å—',
                    'âœ… å¼€å‘ç¼–è¾‘åŠŸèƒ½ä¿®å¤',
                    'âœ… åˆ›å»ºé—®é¢˜æ’æŸ¥æŒ‡å—æ–‡æ¡£',
                    'âœ… å®ç°é—®é¢˜è¯Šæ–­æ­¥éª¤åŠŸèƒ½',
                    'âœ… å¼€å‘import-schedule.jså¯¼å…¥è„šæœ¬'
                ],
                code: null
            });

            // 1æœˆ25æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 31).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-25',
                datetime: new Date(Date.now() - 86400000 * 31).toLocaleString('zh-CN'),
                title: 'ğŸš€ çˆ¬è™«ç³»ç»Ÿå¼€å‘',
                tags: [{ name: 'ğŸ”§ é…ç½®', type: 'improvement' }],
                items: [
                    'âœ… å¼€å‘xiaohongshu-scraper.jsçˆ¬è™«',
                    'âœ… å®ç°excel-writer.js Excelå†™å…¥åŠŸèƒ½',
                    'âœ… åˆ›å»ºclean-empty-rows.jsæ•°æ®æ¸…ç†å·¥å…·',
                    'âœ… åˆ›å»ºFILENAME-UPDATE-SUMMARY.mdæ–‡æ¡£',
                    'âœ… å¼€å‘ai-import.js AIå¯¼å…¥åŠŸèƒ½',
                    'âœ… åˆ›å»ºapi.test.js APIæµ‹è¯•æ–‡ä»¶',
                    'âœ… é…ç½®.envç¯å¢ƒå˜é‡æ–‡ä»¶',
                    'âœ… å®Œå–„æ–‡ä»¶å‘½åè§„èŒƒæ–‡æ¡£'
                ],
                code: null
            });

            // 1æœˆ26æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 30).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-26',
                datetime: new Date(Date.now() - 86400000 * 30).toLocaleString('zh-CN'),
                title: 'âš™ï¸ è‡ªåŠ¨åŒ–ä¸APIé›†æˆ',
                tags: [{ name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' }],
                items: [
                    'âœ… åˆ›å»ºAPI-CONNECTION-VERIFICATION.md',
                    'âœ… å¼€å‘AUTOMATION-COMPLETE-REPORT.md',
                    'âœ… å®ç°API-SCHEDULE-IMP.pyè°ƒåº¦è„šæœ¬',
                    'âœ… å¼€å‘ADVANCED-DATA-SYNC.pyæ•°æ®åŒæ­¥',
                    'âœ… åˆ›å»ºAPI-INTERACTION-EXAMPLES.mdç¤ºä¾‹',
                    'âœ… å®ç°FAST-TEST-WITHOUT-MONGODB.mdæµ‹è¯•æ–¹æ¡ˆ',
                    'âœ… é…ç½®.eslintrc.jsonä»£ç è§„èŒƒ',
                    'âœ… å¼€å‘API-FILTER-IMPLEMENTATION.mdè¿‡æ»¤åŠŸèƒ½'
                ],
                code: null
            });

            // 1æœˆ27æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 29).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-27',
                datetime: new Date(Date.now() - 86400000 * 29).toLocaleString('zh-CN'),
                title: 'ğŸ§ª æµ‹è¯•ä½“ç³»å®Œå–„',
                tags: [{ name: 'ğŸ§ª æµ‹è¯•', type: 'testing' }],
                items: [
                    'âœ… åˆ›å»ºTESTING-GUIDE.mdæµ‹è¯•æŒ‡å—',
                    'âœ… å¼€å‘DATA-VALIDATION-TEST.pyéªŒè¯æµ‹è¯•',
                    'âœ… å®ç°FIX-SCHEDULE-UPDATE.pyä¿®å¤è„šæœ¬',
                    'âœ… åˆ›å»ºSINGLE-FIELD-TEST.pyå•å­—æ®µæµ‹è¯•',
                    'âœ… å¼€å‘MANUAL-API-TEST.pyæ‰‹åŠ¨APIæµ‹è¯•',
                    'âœ… å®ç°FILTER-TWO-WEEKS.pyåŒå‘¨è¿‡æ»¤æµ‹è¯•',
                    'âœ… åˆ›å»ºUPDATE-TEST.pyæ›´æ–°æµ‹è¯•',
                    'âœ… å®Œå–„æµ‹è¯•æ–‡æ¡£ä½“ç³»'
                ],
                code: null
            });

            // 1æœˆ28æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 28).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-28',
                datetime: new Date(Date.now() - 86400000 * 28).toLocaleString('zh-CN'),
                title: 'ğŸ“š æ–‡æ¡£ä¸æ•°æ®ç»“æ„å®Œå–„',
                tags: [{ name: 'ğŸ“ æ–‡æ¡£', type: 'documentation' }],
                items: [
                    'âœ… åˆ›å»ºGUIDE-STRUCTURE-CONFIRMATION.md',
                    'âœ… ç¼–å†™FINAL-FIX-REPORT.mdæœ€ç»ˆä¿®å¤æŠ¥å‘Š',
                    'âœ… å¼€å‘FRONTEND-BACKEND-TEST-REPORT.mdæµ‹è¯•æŠ¥å‘Š',
                    'âœ… åˆ›å»ºDATA-SOURCE-UNIFICATION.mdæ•°æ®æºç»Ÿä¸€æ–‡æ¡£',
                    'âœ… å®ç°DATA-SYNC-GUIDE.mdæ•°æ®åŒæ­¥æŒ‡å—',
                    'âœ… ç¼–å†™DATA-VALIDATION-GUIDE.mdéªŒè¯æŒ‡å—',
                    'âœ… åˆ›å»ºMULTI-LANGUAGE-GUIDE.mdå¤šè¯­è¨€æŒ‡å—',
                    'âœ… å®Œå–„æŠ€æœ¯æ–‡æ¡£æ¶æ„',
                    'âœ… åˆ›å»º60+ä¸ªæŠ€æœ¯æ–‡æ¡£æ–‡ä»¶',
                    'âœ… å»ºç«‹å®Œæ•´çš„æ–‡æ¡£ç´¢å¼•ä½“ç³»'
                ],
                code: null
            });

            // 1æœˆ29æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 27).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-29',
                datetime: new Date(Date.now() - 86400000 * 27).toLocaleString('zh-CN'),
                title: 'ğŸ”’ å®‰å…¨ä¸è‡ªåŠ¨åŒ–å¢å¼º',
                tags: [{ name: 'ğŸ”’ å®‰å…¨', type: 'security' }],
                items: [
                    'âœ… åˆ›å»ºAUTO-COMMIT-SAFETY-GUIDE.mdå®‰å…¨æŒ‡å—',
                    'âœ… ç¼–å†™AUTO-DETECTION-REPORT-2026-01-29.mdè‡ªåŠ¨æ£€æµ‹æŠ¥å‘Š',
                    'âœ… å¼€å‘AUTOMATED-TESTING-IMPLEMENTATION-REPORT.md',
                    'âœ… åˆ›å»ºAUTOMATED-TESTS-INDEX.mdæµ‹è¯•ç´¢å¼•',
                    'âœ… é…ç½®.githubè‡ªåŠ¨åŒ–å·¥ä½œæµ',
                    'âœ… åˆ›å»º.claudeé¡¹ç›®é…ç½®',
                    'âœ… ç¼–å†™.env.exampleç¯å¢ƒå˜é‡ç¤ºä¾‹',
                    'âœ… å®ç°50+ä¸ªè‡ªåŠ¨åŒ–ç›¸å…³æ–‡ä»¶',
                    'âœ… å®Œå–„Git hooksé…ç½®'
                ],
                code: null
            });

            // 1æœˆ30æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 26).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-01-30',
                datetime: new Date(Date.now() - 86400000 * 26).toLocaleString('zh-CN'),
                title: 'ğŸ¨ å‰ç«¯ç»„ä»¶ä¸å·¥å…·å¼€å‘',
                tags: [{ name: 'ğŸ’» å¼€å‘', type: 'development' }],
                items: [
                    'âœ… å¼€å‘main.jsä¸»å…¥å£æ–‡ä»¶',
                    'âœ… å®ç°ActivitiesPage.jsæ´»åŠ¨é¡µé¢',
                    'âœ… åˆ›å»ºerror-tracker.jsé”™è¯¯è¿½è¸ªå™¨',
                    'âœ… å¼€å‘device-detector.jsè®¾å¤‡æ£€æµ‹',
                    'âœ… å®ç°dateHelper.jsæ—¥æœŸå¸®åŠ©å·¥å…·',
                    'âœ… åˆ›å»ºapi-cache.js APIç¼“å­˜ç³»ç»Ÿ',
                    'âœ… å¼€å‘alert-system.jså‘Šè­¦ç³»ç»Ÿ',
                    'âœ… å®ç°EventBus.jsäº‹ä»¶æ€»çº¿',
                    'âœ… åˆ›å»ºtabs.jsæ ‡ç­¾ç»„ä»¶',
                    'âœ… å¼€å‘modal.jså¼¹çª—ç»„ä»¶',
                    'âœ… å®ç°mobile.jsç§»åŠ¨ç«¯é€‚é…',
                    'âœ… å¼€å‘filter.jsè¿‡æ»¤ç»„ä»¶',
                    'âœ… åˆ›å»º40+ä¸ªå‰ç«¯ç»„ä»¶æ–‡ä»¶'
                ],
                code: null
            });

            // 2æœˆ6æ—¥ï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°
            historyLogs.push({
                id: (Date.now() - 86400000 * 19).toString(),
                projectId: 'chiang-mai-activities',
                projectName: 'æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                date: '2026-02-06',
                datetime: new Date(Date.now() - 86400000 * 19).toLocaleString('zh-CN'),
                title: 'ğŸ“– READMEæ–‡æ¡£æ›´æ–°',
                tags: [{ name: 'ğŸ“ æ–‡æ¡£', type: 'documentation' }],
                items: [
                    'âœ… æ›´æ–°ä¸»README.mdé¡¹ç›®è¯´æ˜',
                    'âœ… å®Œå–„archives/README.mdå½’æ¡£è¯´æ˜',
                    'âœ… æ›´æ–°é¡¹ç›®ç»“æ„æ–‡æ¡£',
                    'âœ… å®Œå–„éƒ¨ç½²ç›¸å…³è¯´æ˜'
                ],
                code: null
            });

            // åˆå¹¶ç°æœ‰æ—¥å¿—å’Œæ–°æ—¥å¿—ï¼ŒæŒ‰é¡¹ç›®+æ—¥æœŸå»é‡
            const existingLogs = logs || [];
            const existingKeys = new Set(existingLogs.map(log => `${log.projectId}_${log.date}`));

            // æ·»åŠ ä¸å­˜åœ¨çš„æ–°æ—¥å¿—
            historyLogs.forEach(newLog => {
                const key = `${newLog.projectId}_${newLog.date}`;
                if (!existingKeys.has(key)) {
                    existingLogs.push(newLog);
                    existingKeys.add(key);
                }
            });

            // æŒ‰æ—¥æœŸå€’åºæ’åº
            existingLogs.sort((a, b) => new Date(b.date) - new Date(a.date));

            // ä¿å­˜åˆå¹¶åçš„æ—¥å¿—
            saveLogs(existingLogs);
            console.log(`âœ… å·²æ›´æ–°å†å²æ—¥å¿—ï¼Œå…± ${existingLogs.length} æ¡è®°å½•`);
        }

        // æ ‡ç­¾é¡µåˆ‡æ¢
        function switchTab(tabName) {
            // æ›´æ–°å½“å‰æ ‡ç­¾ç´¢å¼•ï¼ˆç”¨äºæ»šåŠ¨åˆ‡æ¢ï¼‰
            const newIndex = tabOrder.indexOf(tabName);
            if (newIndex !== -1) {
                currentTabIndex = newIndex;
            }

            // æ¸…é™¤é˜²æŠ–å®šæ—¶å™¨å’Œæ»šåŠ¨çŠ¶æ€
            if (scrollTimeout) {
                clearTimeout(scrollTimeout);
                scrollTimeout = null;
            }
            isScrolling = false;

            // é”å®šæ»šåŠ¨åˆ‡æ¢1ç§’ï¼Œé˜²æ­¢æ‰‹åŠ¨ç‚¹å‡»åç«‹å³è§¦å‘æ»šåŠ¨åˆ‡æ¢
            tabLockedUntil = Date.now() + 1000;

            // é‡ç½®æ»šåŠ¨ä½ç½®åˆ°é¡¶éƒ¨
            const container = document.querySelector('.main');
            if (container) {
                container.scrollTop = 0;
                lastScrollPosition = 0;
            }

            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µå†…å®¹
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });

            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾æŒ‰é’®çš„activeçŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById('tab-' + tabName).style.display = 'block';

            // æ¿€æ´»å¯¹åº”æŒ‰é’®ï¼ˆé€šè¿‡onclickäº‹ä»¶æˆ–æ‰‹åŠ¨æŸ¥æ‰¾ï¼‰
            if (event && event.target) {
                event.target.classList.add('active');
            } else {
                // å¦‚æœæ²¡æœ‰eventå¯¹è±¡ï¼Œæ‰‹åŠ¨æŸ¥æ‰¾å¹¶æ¿€æ´»å¯¹åº”æŒ‰é’®
                const tabs = {
                    'logs': 'ğŸ“… å·¥ä½œæ—¥å¿—',
                    'summary': 'ğŸ“š é¡¹ç›®æ€»ç»“',
                    'resources': 'ğŸ“ é¡¹ç›®èµ„æº',
                    'todos': 'âœ… å¾…åŠæ¸…å•'
                };
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    if (btn.textContent.includes(tabs[tabName])) {
                        btn.classList.add('active');
                    }
                });
            }

            // æ ¹æ®æ ‡ç­¾é¡µæ¸²æŸ“åŠ¨æ€å†…å®¹
            if (tabName === 'summary') {
                renderSummaryContent();
            } else if (tabName === 'resources') {
                renderProjectResources();
            } else if (tabName === 'todos') {
                renderTodosContent();
            }
        }

        // æ¸²æŸ“é¡¹ç›®æ€»ç»“å†…å®¹
        function renderSummaryContent() {
            const container = document.getElementById('summaryContent');
            const projectId = currentProjectFilter;

            if (!projectId) {
                // æ˜¾ç¤ºæœˆåº¦æ€»ç»“å’Œå…¨éƒ¨é¡¹ç›®
                const allProjects = getProjects();
                const logs = getLogs();

                // ç»Ÿè®¡å„æœˆä»½çš„å·¥ä½œ
                const monthlyStats = {
                    '2026-01': { logs: [], projects: new Set(), count: 0 },
                    '2026-02': { logs: [], projects: new Set(), count: 0 }
                };

                logs.forEach(log => {
                    if (log.date.startsWith('2026-01')) {
                        monthlyStats['2026-01'].logs.push(log);
                        monthlyStats['2026-01'].projects.add(log.projectName);
                        monthlyStats['2026-01'].count++;
                    } else if (log.date.startsWith('2026-02')) {
                        monthlyStats['2026-02'].logs.push(log);
                        monthlyStats['2026-02'].projects.add(log.projectName);
                        monthlyStats['2026-02'].count++;
                    }
                });

                let html = '<h2 style="margin-bottom: 20px;">ğŸ“Š 2026å¹´æœˆåº¦é¡¹ç›®æ€»ç»“</h2>';

                // 1æœˆæ€»ç»“
                const janData = monthlyStats['2026-01'];
                html += `
                    <div style="background: #f5f5f5;
                               padding: 25px; border-radius: 16px; margin-bottom: 20px;
                               border-left: 6px solid #3a3a3a; box-shadow: 0 4px 20px rgba(100, 100, 100, 0.12);">
                        <h3 style="color: #1a1a2e; font-size: 19px; font-weight: 800; margin-bottom: 15px; text-transform: uppercase;">
                            ğŸ“… 2026å¹´1æœˆ
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 20px;">
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #3a3a3a;">${janData.count}</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">å·¥ä½œæ—¥å¿—æ•°</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #5a5a5a;">${janData.projects.size}</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">æ¶‰åŠé¡¹ç›®</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #6a6a6a;">2</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">å·¥ä½œå¤©æ•°</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #6a6a6a;">71</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">æŠ€æœ¯æ–‡æ¡£æ•°</div>
                            </div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <div style="font-size: 13px; font-weight: 600; color: #3a3a3a; margin-bottom: 10px;">ğŸ“ æ¶‰åŠé¡¹ç›®</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                                ${Array.from(janData.projects).map(p => `
                                    <span style="background: rgba(100, 100, 100, 0.1); padding: 6px 14px;
                                                border-radius: 20px; font-size: 12px; color: #3a3a3a; font-weight: 500;">
                                        ${p}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                            <div style="font-size: 13px; font-weight: 600; color: #3a3a3a; margin-bottom: 10px;">ğŸ’» ä»£ç ç»Ÿè®¡</div>
                            <div style="font-size: 12px; color: #666; line-height: 1.8;">
                                â€¢ æ¸…è¿ˆæ´»åŠ¨å¹³å°ï¼š71ä¸ªæŠ€æœ¯æ–‡æ¡£ã€401ä¸ªæ–‡ä»¶<br>
                                â€¢ ä¸»è¦å·¥ä½œï¼šæ¸…è¿ˆæ´»åŠ¨å¹³å°è°ƒç ”ã€AI SaaSè§†é¢‘é¡¹ç›®å¸‚åœºåˆ†æ
                            </div>
                        </div>
                    </div>
                `;

                // 2æœˆæ€»ç»“
                const febData = monthlyStats['2026-02'];
                html += `
                    <div style="background: #f5f5f5;
                               padding: 25px; border-radius: 16px; margin-bottom: 30px;
                               border-left: 6px solid #3a3a3a; box-shadow: 0 4px 20px rgba(100, 100, 100, 0.12);">
                        <h3 style="color: #1a1a2e; font-size: 19px; font-weight: 800; margin-bottom: 15px; text-transform: uppercase;">
                            ğŸ“… 2026å¹´2æœˆ
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 20px;">
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #3a3a3a;">${febData.count}</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">å·¥ä½œæ—¥å¿—æ•°</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #5a5a5a;">${febData.projects.size}</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">æ¶‰åŠé¡¹ç›®</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #6a6a6a;">10</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">å·¥ä½œå¤©æ•°</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #6a6a6a;">47</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">æŠ€æœ¯æ–‡æ¡£æ•°</div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                                <div style="font-size: 28px; font-weight: 700; color: #6a6a6a;">301K</div>
                                <div style="font-size: 13px; color: #666; margin-top: 5px;">ä»£ç è¡Œæ•°</div>
                            </div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <div style="font-size: 13px; font-weight: 600; color: #3a3a3a; margin-bottom: 10px;">ğŸ“ æ¶‰åŠé¡¹ç›®</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                                ${Array.from(febData.projects).map(p => `
                                    <span style="background: rgba(100, 100, 100, 0.1); padding: 6px 14px;
                                                border-radius: 20px; font-size: 12px; color: #3a3a3a; font-weight: 500;">
                                        ${p}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.7); padding: 15px; border-radius: 8px;">
                            <div style="font-size: 13px; font-weight: 600; color: #3a3a3a; margin-bottom: 10px;">ğŸ’» ä»£ç ç»Ÿè®¡</div>
                            <div style="font-size: 12px; color: #666; line-height: 1.8;">
                                â€¢ è‹±è¯­æœ—è¯»å­¦ä¹ ï¼š95ä¸ªæ–‡ä»¶ã€301KBä»£ç ã€22ä¸ªæŠ€æœ¯æ–‡æ¡£<br>
                                â€¢ æ¸…è¿ˆæ´»åŠ¨å¹³å°ï¼šæ•°æ®åŒæ­¥æ–‡æ¡£ã€è¿æ¥ä¿¡æ¯æ›´æ–°<br>
                                â€¢ é¡¹ç›®ç®¡ç†æ±‡æ€»ï¼šé¡¹ç›®èµ„æºä¼˜åŒ–ã€æµ‹è¯•å·¥å…·å®Œå–„<br>
                                â€¢ AI SaaSè§†é¢‘ï¼šNext.jsæ„å»ºã€ä¾èµ–é…ç½®
                            </div>
                        </div>
                        <div style="margin-top: 15px; font-size: 13px; color: #666;">
                            <strong>ğŸ¯ æ ¸å¿ƒæˆæœï¼š</strong>TTSé—®é¢˜ä¿®å¤ä¸æµ‹è¯•å·¥å…·å®Œå–„ï¼ˆ20+å·¥å…·ï¼‰ã€é¡¹ç›®ç³»ç»Ÿç•Œé¢ä¼˜åŒ–ã€æ¸…è¿ˆæ´»åŠ¨å¹³å°æ•°æ®åŒæ­¥ä½“ç³»
                        </div>
                    </div>
                `;

                // é¡¹ç›®åˆ—è¡¨
                html += '<h3 style="margin-bottom: 20px;">ğŸ“š å…¨éƒ¨é¡¹ç›®è¯¦æƒ…</h3>';
                html += '<div style="display: grid; gap: 15px;">';

                allProjects.forEach(project => {
                    const data = projectData[project.id];
                    if (!data || !data.summary) return;

                    const summary = data.summary;
                    html += `
                        <div style="background: rgba(245, 245, 245, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); padding: 20px; border-radius: 12px; cursor: pointer; border: 2px solid rgba(100, 100, 100, 0.2); transition: all 0.3s ease; box-shadow: 0 4px 16px rgba(92,124,250,0.08);" onclick="filterByProject('${project.id}')" onmouseover="this.style.borderColor='#3a3a3a'; this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 24px rgba(92,124,250,0.2)'" onmouseout="this.style.borderColor='rgba(100, 100, 100, 0.2)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 16px rgba(92,124,250,0.08)'">
                            <h3 style="color: #3a3a3a; margin-bottom: 10px;">${summary.title}</h3>
                            <p style="color: #666; margin-bottom: 10px;">${summary.description}</p>
                            <p style="font-size: 12px; color: #999;">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… â†’</p>
                        </div>
                    `;
                });

                html += '</div>';
                container.innerHTML = html;
                return;
            }

            const project = getProjects().find(p => p.id === projectId);
            const data = projectData[projectId];
            const logs = getLogs().filter(log => log.projectId === projectId);

            // ç»Ÿè®¡è¯¥é¡¹ç›®åœ¨å„æœˆä»½çš„æ•°æ®
            const monthlyStats = {
                '2026-01': { count: 0, days: new Set() },
                '2026-02': { count: 0, days: new Set() }
            };

            logs.forEach(log => {
                if (log.date.startsWith('2026-01')) {
                    monthlyStats['2026-01'].count++;
                    monthlyStats['2026-01'].days.add(log.date);
                } else if (log.date.startsWith('2026-02')) {
                    monthlyStats['2026-02'].count++;
                    monthlyStats['2026-02'].days.add(log.date);
                }
            });

            if (!data || !data.summary) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 60px 20px; color: #999;">
                        <div style="font-size: 48px; margin-bottom: 20px;">ğŸ“</div>
                        <p style="font-size: 16px; color: #666;">è¯¥é¡¹ç›®æš‚æ— è¯¦ç»†æ€»ç»“ä¿¡æ¯</p>
                        <p style="font-size: 14px; margin-top: 10px;">ç‚¹å‡»å·¦ä¾§å…¶ä»–é¡¹ç›®æŸ¥çœ‹è¯¦æƒ…</p>
                    </div>
                `;
                return;
            }

            const summary = data.summary;
            let html = `
                <!-- é¡¹ç›®æ ‡é¢˜åŒºåŸŸ -->
                <div style="background: linear-gradient(135deg, #f5f5f5 0%, #ebebeb 100%); padding: 28px 32px; border-radius: 16px; margin-bottom: 28px; border: 1px solid #e8e8e8; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <h2 style="margin: 0 0 12px 0; font-size: 28px; font-weight: 700; color: #1a1a1a;">${summary.title}</h2>
                    <p style="margin: 0; font-size: 15px; color: #666; line-height: 1.6;">${summary.description}</p>
                </div>
            `;

            // å¦‚æœæ˜¯æŠ€èƒ½å¼€å‘é¡¹ç›®ï¼Œæ˜¾ç¤ºæŠ€èƒ½å¡ç‰‡
            if (projectId === 'skills-development') {
                html += `
                    <!-- å¿«é€ŸæŠ€èƒ½ -->
                    <h3 style="margin: 0 0 20px 0; font-size: 20px; font-weight: 700; color: #1a1a1a; display: flex; align-items: center; gap: 8px;">
                        <span>âš¡</span>
                        <span>å¿«é€ŸæŠ€èƒ½</span>
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 32px;">
                        <!-- Bç«™éŸ³é¢‘ä¸‹è½½ -->
                        <div onclick="copySkillCommand('bili-audio')" style="background: white; padding: 24px; border-radius: 12px; border: 1px solid #e8e8e8; box-shadow: 0 2px 8px rgba(0,0,0,0.04); cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='#3a3a3a'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.1)';" onmouseout="this.style.borderColor='#e8e8e8'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.04)';">
                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                <span style="font-size: 32px;">ğŸµ</span>
                                <h4 style="margin: 0; font-size: 18px; font-weight: 700; color: #1a1a1a;">Bç«™éŸ³é¢‘ä¸‹è½½</h4>
                            </div>
                            <p style="margin: 0 0 16px 0; font-size: 13px; color: #666; line-height: 1.6;">ä¸‹è½½Bç«™è§†é¢‘éŸ³é¢‘ï¼Œæ”¯æŒM4A/MP3æ ¼å¼è½¬æ¢ï¼Œæ‰¹é‡ä¸‹è½½ï¼Œè´¨é‡è°ƒèŠ‚</p>
                            <div style="background: #f5f5f5; padding: 12px; border-radius: 8px; font-family: 'Monaco', 'Menlo', monospace; font-size: 12px; color: #3a3a3a; overflow-x: auto; white-space: nowrap;">
                                cd ~/Documents/my_project/skills/bili-audio-downloader && node bilibili-audio.js &lt;BVå·&gt;
                            </div>
                            <div style="margin-top: 12px; font-size: 12px; color: #8a8a8a; display: flex; align-items: center; gap: 6px;">
                                <span>ğŸ“‹</span>
                                <span>ç‚¹å‡»å¤åˆ¶å‘½ä»¤åˆ°å‰ªè´´æ¿</span>
                            </div>
                        </div>

                        <!-- å¤¸å…‹ç½‘ç›˜æ–‡ä»¶ä¸‹è½½ -->
                        <div onclick="copySkillCommand('quark-download')" style="background: white; padding: 24px; border-radius: 12px; border: 1px solid #e8e8e8; box-shadow: 0 2px 8px rgba(0,0,0,0.04); cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='#3a3a3a'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.1)';" onmouseout="this.style.borderColor='#e8e8e8'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.04)';">
                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                <span style="font-size: 32px;">â˜ï¸</span>
                                <h4 style="margin: 0; font-size: 18px; font-weight: 700; color: #1a1a1a;">å¤¸å…‹ç½‘ç›˜æ–‡ä»¶ä¸‹è½½</h4>
                            </div>
                            <p style="margin: 0 0 16px 0; font-size: 13px; color: #666; line-height: 1.6;">å¤¸å…‹ç½‘ç›˜æ–‡ä»¶å¿«é€Ÿä¸‹è½½å·¥å…·ï¼Œæ”¯æŒåˆ†äº«é“¾æ¥è§£æ</p>
                            <div style="background: #f5f5f5; padding: 12px; border-radius: 8px; font-family: 'Monaco', 'Menlo', monospace; font-size: 12px; color: #3a3a3a; overflow-x: auto; white-space: nowrap;">
                                cd ~/Documents/my_project/skills/kuake--audio-downloader && python quark-download.py &lt;åˆ†äº«é“¾æ¥&gt;
                            </div>
                            <div style="margin-top: 12px; font-size: 12px; color: #8a8a8a; display: flex; align-items: center; gap: 6px;">
                                <span>ğŸ“‹</span>
                                <span>ç‚¹å‡»å¤åˆ¶å‘½ä»¤åˆ°å‰ªè´´æ¿</span>
                            </div>
                        </div>
                    </div>
                `;

                // æ·»åŠ å¤åˆ¶å‘½ä»¤çš„å‡½æ•°
                if (!document.getElementById('skillCommandScript')) {
                    const script = document.createElement('script');
                    script.id = 'skillCommandScript';
                    script.textContent = `
                        function copySkillCommand(skillType) {
                            let command = '';
                            if (skillType === 'bili-audio') {
                                command = 'cd ~/Documents/my_project/skills/bili-audio-downloader && node bilibili-audio.js ';
                            } else if (skillType === 'quark-download') {
                                command = 'cd ~/Documents/my_project/skills/kuake--audio-downloader && python quark-download.py ';
                            }

                            navigator.clipboard.writeText(command).then(() => {
                                showNotification('âœ… å‘½ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯åœ¨ç»ˆç«¯ç²˜è´´ä½¿ç”¨');
                            }).catch(() => {
                                // é™çº§æ–¹æ¡ˆ
                                const textarea = document.createElement('textarea');
                                textarea.value = command;
                                textarea.style.position = 'fixed';
                                textarea.style.opacity = '0';
                                document.body.appendChild(textarea);
                                textarea.select();
                                document.execCommand('copy');
                                document.body.removeChild(textarea);
                                showNotification('âœ… å‘½ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                            });
                        }
                    `;
                    document.head.appendChild(script);
                }
            }

            html += `
                <!-- é¡¹ç›®æœˆåº¦ç»Ÿè®¡ - ç«–çŠ¶å¸ƒå±€ -->
                <h3 style="margin: 0 0 20px 0; font-size: 20px; font-weight: 700; color: #1a1a1a; display: flex; align-items: center; gap: 8px;">
                    <span>ğŸ“Š</span>
                    <span>æœˆåº¦å·¥ä½œç»Ÿè®¡</span>
                </h3>
                <div style="display: flex; flex-direction: column; gap: 16px; margin-bottom: 32px;">
                    <div style="background: white; padding: 20px 24px; border-radius: 12px; border: 1px solid #e8e8e8; box-shadow: 0 2px 8px rgba(0,0,0,0.04); display: flex; align-items: center; justify-content: space-between;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <span style="font-size: 24px;">ğŸ“…</span>
                            <span style="font-size: 16px; font-weight: 600; color: #4a4a4a;">2026å¹´1æœˆ</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 20px;">
                            <div style="text-align: right;">
                                <div style="font-size: 32px; font-weight: 700; color: #3a3a3a; line-height: 1;">${monthlyStats['2026-01'].count}</div>
                                <div style="font-size: 12px; color: #8a8a8a;">æ¡æ—¥å¿—</div>
                            </div>
                            <div style="text-align: right; min-width: 80px;">
                                <div style="font-size: 20px; font-weight: 600; color: #5a5a5a; line-height: 1;">${monthlyStats['2026-01'].days.size}</div>
                                <div style="font-size: 12px; color: #8a8a8a;">å¤©å·¥ä½œ</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 20px 24px; border-radius: 12px; border: 1px solid #e8e8e8; box-shadow: 0 2px 8px rgba(0,0,0,0.04); display: flex; align-items: center; justify-content: space-between;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <span style="font-size: 24px;">ğŸ“…</span>
                            <span style="font-size: 16px; font-weight: 600; color: #4a4a4a;">2026å¹´2æœˆ</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 20px;">
                            <div style="text-align: right;">
                                <div style="font-size: 32px; font-weight: 700; color: #3a3a3a; line-height: 1;">${monthlyStats['2026-02'].count}</div>
                                <div style="font-size: 12px; color: #8a8a8a;">æ¡æ—¥å¿—</div>
                            </div>
                            <div style="text-align: right; min-width: 80px;">
                                <div style="font-size: 20px; font-weight: 600; color: #5a5a5a; line-height: 1;">${monthlyStats['2026-02'].days.size}</div>
                                <div style="font-size: 12px; color: #8a8a8a;">å¤©å·¥ä½œ</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ä¸»è¦æˆæœ - ç«–çŠ¶å¸ƒå±€ -->
                <h3 style="margin: 0 0 20px 0; font-size: 20px; font-weight: 700; color: #1a1a1a; display: flex; align-items: center; gap: 8px;">
                    <span>ğŸ¯</span>
                    <span>ä¸»è¦æˆæœ</span>
                </h3>
                <div style="background: white; padding: 24px; border-radius: 12px; border: 1px solid #e8e8e8; box-shadow: 0 2px 8px rgba(0,0,0,0.04); margin-bottom: 32px;">
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        ${summary.achievements.map((a, index) => `
                            <div style="display: flex; align-items: flex-start; gap: 12px; padding: 12px 0; ${index < summary.achievements.length - 1 ? 'border-bottom: 1px solid #f0f0f0;' : ''}">
                                <span style="font-size: 18px; color: #5a5a5a; flex-shrink: 0; margin-top: 2px;">${index + 1}.</span>
                                <span style="line-height: 1.8; color: #3a3a3a; flex: 1;">${a}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            // ç›¸å…³æ–‡æ¡£å·²ç§»è‡³"é¡¹ç›®èµ„æº"tabï¼Œé¿å…é‡å¤
            // æ·»åŠ æç¤ºå¼•å¯¼ç”¨æˆ·æŸ¥çœ‹é¡¹ç›®èµ„æº
            html += `
                <div style="margin-top: 24px; padding: 16px 20px; background: linear-gradient(135deg, #e8f4fd 0%, #f0f9ff 100%); border-left: 4px solid #3a3a3a; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.04);">
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                        <span style="font-size: 18px;">ğŸ’¡</span>
                        <span style="font-size: 14px; font-weight: 600; color: #1a1a1a;">èµ„æºæç¤º</span>
                    </div>
                    <div style="font-size: 13px; color: #555; line-height: 1.6;">
                        è¯¥é¡¹ç›®çš„<strong>ç›¸å…³æ–‡æ¡£</strong>ã€<strong>å·¥å…·è„šæœ¬</strong>ã€<strong>æ–‡ä»¶å¤¹è·¯å¾„</strong>ç­‰èµ„æºå·²æ•´ç†è‡³ <strong style="color: #3a3a3a;">ğŸ“ é¡¹ç›®èµ„æº</strong> æ ‡ç­¾é¡µï¼Œç‚¹å‡»é¡¶éƒ¨æ ‡ç­¾å³å¯æŸ¥çœ‹å®Œæ•´èµ„æºåˆ—è¡¨ã€‚
                    </div>
                </div>
            `;

            container.innerHTML = html;
        }

        // æ¸²æŸ“é¡¹ç›®é“¾æ¥æ±‡æ€»å†…å®¹
        function renderLinksContent() {
            const container = document.getElementById('linksContent');
            const projectId = currentProjectFilter;

            if (!projectId) {
                // æ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®çš„é“¾æ¥æ±‡æ€» - æŒ‰ä¸€çº§åˆ†ç±»åˆ†ç»„
                const allProjects = getProjects();
                let html = '<h2 style="margin-bottom: 20px;">ğŸ”— å…¨éƒ¨é¡¹ç›®é“¾æ¥æ±‡æ€»</h2>';

                // æŒ‰åˆ†ç±»æ”¶é›†æ‰€æœ‰é“¾æ¥
                const categorizedByType = {
                    'docs': [],
                    'tools': [],
                    'learning': [],
                    'paths': []
                };

                allProjects.forEach(project => {
                    const data = projectData[project.id];
                    if (!data) return;

                    // æ”¶é›†æ–‡æ¡£é“¾æ¥
                    if (data.summary && data.summary.docs && data.summary.docs.length > 0) {
                        data.summary.docs.forEach(doc => {
                            const cat = doc.category || 'docs';
                            if (categorizedByType[cat]) {
                                categorizedByType[cat].push({
                                    ...doc,
                                    projectName: project.name,
                                    projectId: project.id
                                });
                            }
                        });
                    }

                    // æ”¶é›†è·¯å¾„é“¾æ¥
                    if (data.folder) {
                        categorizedByType.paths.push({
                            name: 'ğŸ“‚ é¡¹ç›®æ–‡ä»¶å¤¹',
                            path: data.folder,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'folder'
                        });
                    }
                    if (data.projectFolder) {
                        categorizedByType.paths.push({
                            name: 'ğŸ’» é¡¹ç›®å·¥ä½œåŒº',
                            path: data.projectFolder,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'projectFolder'
                        });
                    }
                    if (data.skills) {
                        categorizedByType.paths.push({
                            name: 'âš¡ Claude Skills',
                            path: data.skills,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'skills'
                        });
                    }
                    if (data.desktop) {
                        categorizedByType.paths.push({
                            name: 'ğŸ–¥ï¸ Desktop æ¡Œé¢',
                            path: data.desktop,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'desktop'
                        });
                    }
                });

                // æ˜¾ç¤ºå„ä¸ªåˆ†ç±»
                Object.keys(categorizedByType).forEach(cat => {
                    const items = categorizedByType[cat];
                    if (items.length === 0) return;

                    const catInfo = linkCategories[cat];

                    html += `
                        <div class="category-header" style="border-left-color: ${catInfo.color}; margin-top: 30px;">
                            <span class="icon">${catInfo.icon}</span>
                            <span class="title">${catInfo.title}</span>
                            <span class="desc">${catInfo.desc}</span>
                            <span class="count">${items.length}</span>
                        </div>
                    `;
                    html += '<div class="links-container">';

                    items.forEach(item => {
                        if (cat === 'paths') {
                            html += `
                                <a href="${item.path}" target="_blank" class="link-card link-card-${cat}" onclick="event.stopPropagation()">
                                    <div class="link-card-title">
                                        <strong>${item.name}</strong>
                                        <span style="color: #999; font-weight: 400; font-size: 12px; margin-left: 8px;">${item.projectName}</span>
                                    </div>
                                    <div class="link-card-path">${item.path}</div>
                                </a>
                            `;
                        } else {
                            html += `
                                <a href="${item.url}" target="_blank" class="link-card link-card-${cat}" onclick="event.stopPropagation()">
                                    <div class="link-card-title">
                                        <strong>${item.name}</strong>
                                        <span style="color: #999; font-weight: 400; font-size: 12px; margin-left: 8px;">${item.projectName}</span>
                                    </div>
                                </a>
                            `;
                        }
                    });

                    html += '</div>';
                });

                container.innerHTML = html;
                return;
            }

            // æ˜¾ç¤ºç‰¹å®šé¡¹ç›®çš„é“¾æ¥ï¼ˆæŒ‰åˆ†ç±»ï¼‰
            const project = getProjects().find(p => p.id === projectId);
            const data = projectData[projectId];

            if (!data) {
                container.innerHTML = `
                    <div class="empty-state-enhanced">
                        <div class="emoji">ğŸ”—</div>
                        <div class="message">è¯¥é¡¹ç›®æš‚æ— é“¾æ¥ä¿¡æ¯</div>
                        <div class="hint">ç‚¹å‡»å·¦ä¾§å…¶ä»–é¡¹ç›®æŸ¥çœ‹é“¾æ¥</div>
                    </div>
                `;
                return;
            }

            let html = `<h2 style="margin-bottom: 20px;">ğŸ”— ${project.name} - é“¾æ¥æ±‡æ€»</h2>`;
            html += '<div class="links-container">';

            // æŒ‰åˆ†ç±»åˆ†ç»„æ–‡æ¡£é“¾æ¥
            const categorizedLinks = {};
            const hasPathLinks = data.folder || data.projectFolder || data.skills || data.desktop;

            if (data.summary && data.summary.docs && data.summary.docs.length > 0) {
                data.summary.docs.forEach(doc => {
                    const cat = doc.category || 'docs';
                    if (!categorizedLinks[cat]) categorizedLinks[cat] = [];
                    categorizedLinks[cat].push(doc);
                });
            }

            // æ˜¾ç¤ºåˆ†ç±»é“¾æ¥
            Object.keys(categorizedLinks).sort().forEach(cat => {
                const catInfo = linkCategories[cat] || linkCategories['docs'];
                const links = categorizedLinks[cat];

                html += `
                    <div class="category-header" style="border-left-color: ${catInfo.color};">
                        <span class="icon">${catInfo.icon}</span>
                        <span class="title">${catInfo.title}</span>
                        <span class="desc">${catInfo.desc}</span>
                        <span class="count">${links.length}</span>
                    </div>
                `;

                links.forEach(doc => {
                    html += `
                        <a href="${doc.url}" target="_blank" class="link-card link-card-${cat}">
                            <div class="link-card-title">${doc.name}</div>
                        </a>
                    `;
                });
            });

            // æ˜¾ç¤ºè·¯å¾„é“¾æ¥
            if (hasPathLinks) {
                html += `
                    <div class="category-header" style="border-left-color: ${linkCategories.paths.color};">
                        <span class="icon">${linkCategories.paths.icon}</span>
                        <span class="title">${linkCategories.paths.title}</span>
                        <span class="desc">${linkCategories.paths.desc}</span>
                    </div>
                `;

                if (data.folder) {
                    html += `
                        <a href="${data.folder}" target="_blank" class="link-card link-card-paths">
                            <div class="link-card-title">ğŸ“‚ é¡¹ç›®æ–‡ä»¶å¤¹</div>
                            <div class="link-card-path">${data.folder}</div>
                        </a>
                    `;
                }
                if (data.projectFolder) {
                    html += `
                        <a href="${data.projectFolder}" target="_blank" class="link-card link-card-paths">
                            <div class="link-card-title">ğŸ’» é¡¹ç›®å·¥ä½œåŒº</div>
                            <div class="link-card-path">${data.projectFolder}</div>
                        </a>
                    `;
                }
                if (data.skills) {
                    html += `
                        <a href="${data.skills}" target="_blank" class="link-card link-card-paths">
                            <div class="link-card-title">âš¡ Claude Skills</div>
                            <div class="link-card-path">${data.skills}</div>
                        </a>
                    `;
                }
                if (data.desktop) {
                    html += `
                        <a href="${data.desktop}" target="_blank" class="link-card link-card-paths">
                            <div class="link-card-title">ğŸ–¥ï¸ Desktop æ¡Œé¢</div>
                            <div class="link-card-path">${data.desktop}</div>
                        </a>
                    `;
                }
            }

            html += '</div>';

            if (!Object.keys(categorizedLinks).length && !hasPathLinks) {
                html = `
                    <div class="empty-state-enhanced">
                        <div class="emoji">ğŸ”—</div>
                        <div class="message">è¯¥é¡¹ç›®æš‚æ— é“¾æ¥ä¿¡æ¯</div>
                        <div class="hint">ç‚¹å‡»å·¦ä¾§å…¶ä»–é¡¹ç›®æŸ¥çœ‹é“¾æ¥</div>
                    </div>
                `;
            }

            container.innerHTML = html;
        }

        // æ¸²æŸ“é¡¹ç›®èµ„æºå†…å®¹ï¼ˆæ•´åˆäº†é“¾æ¥æ±‡æ€»å’Œæ–‡ä»¶æ£€æŸ¥ï¼‰
        function renderProjectResources() {
            const container = document.getElementById('resourcesContent');
            const projectId = currentProjectFilter;

            let html = '';

            // ç¬¬ä¸€éƒ¨åˆ†ï¼šå¿«é€Ÿè®¿é—®ï¼ˆåŸé“¾æ¥æ±‡æ€»ï¼‰
            html += '<section style="margin-bottom: 50px;">';
            html += '<h2 style="margin: 0 0 24px 0; font-size: 22px; font-weight: 700;">ğŸ”— å¿«é€Ÿè®¿é—®</h2>';

            if (!projectId) {
                // æ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®çš„é“¾æ¥æ±‡æ€»
                const allProjects = getProjects();

                // æŒ‰åˆ†ç±»æ”¶é›†æ‰€æœ‰é“¾æ¥
                const categorizedByType = {
                    'docs': [],
                    'tools': [],
                    'learning': [],
                    'paths': []
                };

                allProjects.forEach(project => {
                    const data = projectData[project.id];
                    if (!data) return;

                    // æ”¶é›†æ–‡æ¡£é“¾æ¥
                    if (data.summary && data.summary.docs && data.summary.docs.length > 0) {
                        data.summary.docs.forEach(doc => {
                            const cat = doc.category || 'docs';
                            if (categorizedByType[cat]) {
                                categorizedByType[cat].push({
                                    ...doc,
                                    projectName: project.name,
                                    projectId: project.id
                                });
                            }
                        });
                    }

                    // æ”¶é›†è·¯å¾„é“¾æ¥
                    if (data.folder) {
                        categorizedByType.paths.push({
                            name: 'ğŸ“‚ é¡¹ç›®æ–‡ä»¶å¤¹',
                            path: data.folder,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'folder'
                        });
                    }
                    if (data.projectFolder) {
                        categorizedByType.paths.push({
                            name: 'ğŸ’» é¡¹ç›®å·¥ä½œåŒº',
                            path: data.projectFolder,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'projectFolder'
                        });
                    }
                    if (data.skills) {
                        categorizedByType.paths.push({
                            name: 'âš¡ Claude Skills',
                            path: data.skills,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'skills'
                        });
                    }
                    if (data.desktop) {
                        categorizedByType.paths.push({
                            name: 'ğŸ–¥ï¸ Desktop æ¡Œé¢',
                            path: data.desktop,
                            projectName: project.name,
                            projectId: project.id,
                            type: 'desktop'
                        });
                    }
                });

                // æŒ‰é¡¹ç›®åˆ†ç»„æ˜¾ç¤ºï¼Œæ›´æ¸…æ™°çš„å±‚çº§
                allProjects.forEach(project => {
                    const data = projectData[project.id];
                    if (!data) return;

                    const projectLinks = [];

                    // æ”¶é›†è¯¥é¡¹ç›®çš„æ‰€æœ‰é“¾æ¥
                    if (data.summary && data.summary.docs && data.summary.docs.length > 0) {
                        data.summary.docs.forEach(doc => {
                            projectLinks.push({
                                type: 'doc',
                                category: doc.category || 'docs',
                                url: doc.url,
                                name: doc.name
                            });
                        });
                    }

                    if (data.folder) projectLinks.push({ type: 'path', name: 'ğŸ“‚ é¡¹ç›®æ–‡ä»¶å¤¹', path: data.folder });
                    if (data.projectFolder) projectLinks.push({ type: 'path', name: 'ğŸ’» é¡¹ç›®å·¥ä½œåŒº', path: data.projectFolder });
                    if (data.skills) projectLinks.push({ type: 'path', name: 'âš¡ Claude Skills', path: data.skills });
                    if (data.desktop) projectLinks.push({ type: 'path', name: 'ğŸ–¥ï¸ Desktop æ¡Œé¢', path: data.desktop });

                    if (projectLinks.length === 0) return;

                    // æ¸²æŸ“é¡¹ç›®å¡ç‰‡
                    html += `
                        <div style="margin-bottom: 28px; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border: 1px solid #e8e8e8;">
                            <div style="padding: 18px 24px; background: linear-gradient(135deg, #f5f5f5 0%, #ebebeb 100%); border-bottom: 1px solid #e0e0e0;">
                                <h3 style="margin: 0; font-size: 18px; font-weight: 700; color: #1a1a1a;">${project.name}</h3>
                            </div>
                            <div style="padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 14px;">
                    `;

                    projectLinks.forEach(link => {
                        if (link.type === 'doc') {
                            // å¤„ç†æ–‡æ¡£é“¾æ¥
                            let href = link.url;
                            // å¦‚æœæ˜¯æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œè½¬æ¢ä¸ºfile://åè®®
                            if (href.startsWith('/Users/') || href.startsWith('~/')) {
                                href = 'file://' + href.replace('~', '/Users/yuzhoudeshengyin');
                            }
                            const catInfo = linkCategories[link.category] || linkCategories['docs'];

                            // åˆ¤æ–­é“¾æ¥ç±»å‹å›¾æ ‡
                            let icon = catInfo.icon;
                            if (href.includes('http')) icon = 'ğŸŒ';
                            else if (href.includes('file://')) icon = 'ğŸ“„';

                            html += `
                                <a href="${href}" target="_blank"
                                   style="display: flex; align-items: center; gap: 12px; padding: 14px 18px; background: #fafafa; border-radius: 10px; border: 1px solid #e8e8e8; text-decoration: none; transition: all 0.2s; cursor: pointer;"
                                   onmouseover="this.style.background='#f0f0f0'; this.style.borderColor='#d0d0d0'; this.style.transform='translateY(-2px)';" onmouseout="this.style.background='#fafafa'; this.style.borderColor='#e8e8e8'; this.style.transform='translateY(0)';">
                                    <span style="font-size: 20px; flex-shrink: 0;">${icon}</span>
                                    <div style="flex: 1; min-width: 0;">
                                        <div style="font-size: 14px; font-weight: 500; color: #1a1a1a; margin-bottom: 2px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${link.name}</div>
                                        <div style="font-size: 12px; color: #8a8a8a;">${catInfo.title}</div>
                                    </div>
                                </a>
                            `;
                        } else {
                            // å¤„ç†è·¯å¾„é“¾æ¥ - ç‚¹å‡»å¤åˆ¶è·¯å¾„
                            html += `
                                <div onclick="copyToClipboard('${link.path.replace(/'/g, "\\'")}')"
                                     style="display: flex; align-items: center; gap: 12px; padding: 14px 18px; background: #fafafa; border-radius: 10px; border: 1px solid #e8e8e8; cursor: pointer; transition: all 0.2s;"
                                     onmouseover="this.style.background='#f0f0f0'; this.style.borderColor='#d0d0d0'; this.style.transform='translateY(-2px)';" onmouseout="this.style.background='#fafafa'; this.style.borderColor='#e8e8e8'; this.style.transform='translateY(0)';"
                                     title="ç‚¹å‡»å¤åˆ¶è·¯å¾„">
                                    <span style="font-size: 20px; flex-shrink: 0;">ğŸ“‚</span>
                                    <div style="flex: 1; min-width: 0;">
                                        <div style="font-size: 14px; font-weight: 500; color: #1a1a1a; margin-bottom: 2px;">${link.name}</div>
                                        <div style="font-size: 12px; color: #8a8a8a; word-break: break-all; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${link.path}</div>
                                    </div>
                                </div>
                            `;
                        }
                    });

                    html += '</div></div>';
                });
            } else {
                // æ˜¾ç¤ºå•ä¸ªé¡¹ç›®çš„é“¾æ¥
                const data = projectData[projectId];
                const project = getProjects().find(p => p.id === projectId);

                if (data) {
                    const projectLinks = [];

                    if (data.summary && data.summary.docs && data.summary.docs.length > 0) {
                        data.summary.docs.forEach(doc => {
                            projectLinks.push({
                                type: 'doc',
                                category: doc.category || 'docs',
                                url: doc.url,
                                name: doc.name
                            });
                        });
                    }

                    if (data.folder) projectLinks.push({ type: 'path', name: 'ğŸ“‚ é¡¹ç›®æ–‡ä»¶å¤¹', path: data.folder });
                    if (data.projectFolder) projectLinks.push({ type: 'path', name: 'ğŸ’» é¡¹ç›®å·¥ä½œåŒº', path: data.projectFolder });
                    if (data.skills) projectLinks.push({ type: 'path', name: 'âš¡ Claude Skills', path: data.skills });
                    if (data.desktop) projectLinks.push({ type: 'path', name: 'ğŸ–¥ï¸ Desktop æ¡Œé¢', path: data.desktop });

                    if (projectLinks.length > 0) {
                        html += `
                            <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border: 1px solid #e8e8e8;">
                                <div style="padding: 18px 24px; background: linear-gradient(135deg, #f5f5f5 0%, #ebebeb 100%); border-bottom: 1px solid #e0e0e0;">
                                    <h3 style="margin: 0; font-size: 18px; font-weight: 700; color: #1a1a1a;">${project ? project.name : 'é¡¹ç›®èµ„æº'}</h3>
                                </div>
                                <div style="padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 14px;">
                        `;

                        projectLinks.forEach(link => {
                            if (link.type === 'doc') {
                                let href = link.url;
                                if (href.startsWith('/Users/') || href.startsWith('~/')) {
                                    href = 'file://' + href.replace('~', '/Users/yuzhoudeshengyin');
                                }
                                const catInfo = linkCategories[link.category] || linkCategories['docs'];

                                let icon = catInfo.icon;
                                if (href.includes('http')) icon = 'ğŸŒ';
                                else if (href.includes('file://')) icon = 'ğŸ“„';

                                html += `
                                    <a href="${href}" target="_blank"
                                       style="display: flex; align-items: center; gap: 12px; padding: 14px 18px; background: #fafafa; border-radius: 10px; border: 1px solid #e8e8e8; text-decoration: none; transition: all 0.2s; cursor: pointer;"
                                       onmouseover="this.style.background='#f0f0f0'; this.style.borderColor='#d0d0d0'; this.style.transform='translateY(-2px)';" onmouseout="this.style.background='#fafafa'; this.style.borderColor='#e8e8e8'; this.style.transform='translateY(0)';">
                                        <span style="font-size: 20px; flex-shrink: 0;">${icon}</span>
                                        <div style="flex: 1; min-width: 0;">
                                            <div style="font-size: 14px; font-weight: 500; color: #1a1a1a; margin-bottom: 2px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${link.name}</div>
                                            <div style="font-size: 12px; color: #8a8a8a;">${catInfo.title}</div>
                                        </div>
                                    </a>
                                `;
                            } else {
                                const escapedPath = link.path.replace(/'/g, "\\'").replace(/"/g, '&quot;');
                                html += `
                                    <div onclick="copyToClipboard('${escapedPath}')"
                                         style="display: flex; align-items: center; gap: 12px; padding: 14px 18px; background: #fafafa; border-radius: 10px; border: 1px solid #e8e8e8; cursor: pointer; transition: all 0.2s;"
                                         onmouseover="this.style.background='#f0f0f0'; this.style.borderColor='#d0d0d0'; this.style.transform='translateY(-2px)';" onmouseout="this.style.background='#fafafa'; this.style.borderColor='#e8e8e8'; this.style.transform='translateY(0)';"
                                         title="ç‚¹å‡»å¤åˆ¶è·¯å¾„">
                                        <span style="font-size: 20px; flex-shrink: 0;">ğŸ“‚</span>
                                        <div style="flex: 1; min-width: 0;">
                                            <div style="font-size: 14px; font-weight: 500; color: #1a1a1a; margin-bottom: 2px;">${link.name}</div>
                                            <div style="font-size: 12px; color: #8a8a8a; word-break: break-all; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${link.path}</div>
                                        </div>
                                    </div>
                                `;
                            }
                        });

                        html += '</div></div>';
                    }
                }
            }

            html += '</section>';

            // ç¬¬äºŒéƒ¨åˆ†ï¼šæ–‡ä»¶ç›®å½•æ£€æŸ¥ï¼ˆåŸé¡¹ç›®æ–‡ä»¶æ£€æŸ¥ï¼‰
            html += '<section>';
            html += '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">';
            html += '<h2 style="margin: 0; font-size: 22px; font-weight: 700;">ğŸ” æ–‡ä»¶ç›®å½•</h2>';
            html += '<button class="btn btn-primary" onclick="runProjectCheckAndRender()">â–¶ï¸ è¿è¡Œæ£€æŸ¥</button>';
            html += '</div>';
            html += '<div id="checkResultsArea">';
            html += `
                <div style="text-align: center; padding: 40px; color: #999; background: white; border-radius: 12px;">
                    <p>ç‚¹å‡»"è¿è¡Œæ£€æŸ¥"æŒ‰é’®å¼€å§‹æ£€æŸ¥é¡¹ç›®æ–‡ä»¶</p>
                </div>
            `;
            html += '</div>';
            html += '</section>';

            container.innerHTML = html;

            // è‡ªåŠ¨è¿è¡Œä¸€æ¬¡æ£€æŸ¥
            runProjectCheckAndRender();
        }

        // è¿è¡Œé¡¹ç›®æ£€æŸ¥å¹¶æ¸²æŸ“åˆ°resourcesåŒºåŸŸ
        async function runProjectCheckAndRender() {
            const container = document.getElementById('checkResultsArea');
            if (!container) return;

            container.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 40px; margin-bottom: 15px;">ğŸ”</div>
                    <p>æ­£åœ¨æ£€æŸ¥é¡¹ç›®æ–‡ä»¶...</p>
                </div>
            `;

            const results = {
                workflow: { name: 'å·¥ä½œæµç¨‹æ–‡æ¡£', status: 'unknown', items: [] },
                planning: { name: 'è§„åˆ’æ–‡ä»¶', status: 'unknown', items: [] },
                projects: { name: 'é¡¹ç›®é…ç½®', status: 'unknown', items: [] },
                scripts: { name: 'ç®¡ç†è„šæœ¬', status: 'unknown', items: [] }
            };

            // æ£€æŸ¥å·¥ä½œæµç¨‹æ–‡æ¡£
            try {
                const workflowFiles = [
                    { path: '~/WORKFLOW.md', desc: 'AI åŠ©æ‰‹å·¥ä½œæµç¨‹è§„èŒƒ' },
                    { path: '~/PROJECTS-CONFIG.md', desc: 'é¡¹ç›®é…ç½®æŒ‡å—' },
                    { path: '~/PROJECTS.md', desc: 'é¡¹ç›®ç«¯å£é…ç½®' },
                    { path: '~/PROJECT-CHECKLIST.md', desc: 'é¡¹ç›®é…ç½®æ¸…å•' }
                ];

                for (const file of workflowFiles) {
                    results.workflow.items.push({
                        file: file.path,
                        desc: file.desc,
                        exists: await checkFileExists(file.path)
                    });
                }
                results.workflow.status = results.workflow.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.workflow.status = 'error';
            }

            // æ£€æŸ¥è§„åˆ’æ–‡ä»¶
            try {
                const planningFiles = [
                    { path: '~/task_plan.md', desc: 'ä»»åŠ¡è®¡åˆ’' },
                    { path: '~/findings.md', desc: 'ç ”ç©¶å‘ç°' },
                    { path: '~/progress.md', desc: 'è¿›åº¦æ—¥å¿—' }
                ];

                for (const file of planningFiles) {
                    results.planning.items.push({
                        file: file.path,
                        desc: file.desc,
                        exists: await checkFileExists(file.path)
                    });
                }
                results.planning.status = results.planning.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.planning.status = 'error';
            }

            // æ£€æŸ¥ç®¡ç†è„šæœ¬
            try {
                const scriptFiles = [
                    { path: '~/projects.sh', desc: 'ç»Ÿä¸€å¯åŠ¨è„šæœ¬' },
                    { path: '~/test-projects.sh', desc: 'è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬' },
                    { path: '~/QUICKSTART.sh', desc: 'å¿«é€Ÿå¯åŠ¨åˆ«å' }
                ];

                for (const file of scriptFiles) {
                    results.scripts.items.push({
                        file: file.path,
                        desc: file.desc,
                        exists: await checkFileExists(file.path)
                    });
                }
                results.scripts.status = results.scripts.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.scripts.status = 'error';
            }

            // æ£€æŸ¥é¡¹ç›®ç›®å½•
            try {
                const projectDirs = [
                    { path: '~/Documents/my_project/aisaasvideo', name: 'VideoFly', port: 3000 },
                    { path: '~/Documents/my_project/Chiengmai', name: 'Chiengmai', port: 4000 },
                    { path: '~/Documents/my_project/clawdbot-railway-template', name: 'clawdbot', port: 8080 }
                ];

                for (const proj of projectDirs) {
                    results.projects.items.push({
                        name: proj.name,
                        path: proj.path,
                        port: proj.port,
                        exists: await checkFileExists(proj.path)
                    });
                }
                results.projects.status = results.projects.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.projects.status = 'error';
            }

            // æ¸²æŸ“ç»“æœ
            renderCheckResultsInline(container, results);
        }

        // æ¸²æŸ“æ£€æŸ¥ç»“æœï¼ˆå†…è”ç‰ˆæœ¬ï¼Œç”¨äºresources tabï¼‰
        function renderCheckResultsInline(container, results) {
            const statusIcons = {
                ok: 'âœ…',
                warning: 'âš ï¸',
                error: 'âŒ',
                unknown: 'â“'
            };

            const statusColors = {
                ok: '#5a5a5a',
                warning: '#8a8a8a',
                error: '#7a7a7a',
                unknown: '#6a6a6a'
            };

            let html = '<div style="display: flex; flex-direction: column; gap: 20px;">';

            // éå†å„ä¸ªæ£€æŸ¥åˆ†ç±»
            Object.keys(results).forEach(key => {
                const data = results[key];
                const icon = statusIcons[data.status] || statusIcons.unknown;
                const color = statusColors[data.status] || statusColors.unknown;

                html += `
                    <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                        <div style="padding: 15px 20px; background: #f5f5f5; border-bottom: 1px solid #e8e8e8; display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 20px;">${icon}</span>
                            <span style="font-weight: 600; font-size: 15px;">${data.name}</span>
                            <span style="margin-left: auto; font-size: 12px; color: #6a6a6a;">${data.items.filter(i => i.exists).length}/${data.items.length}</span>
                        </div>
                        <div style="padding: 15px 20px;">
                `;

                data.items.forEach(item => {
                    const exists = item.exists;
                    if (key === 'projects') {
                        const fullPath = item.path.replace('~', '/Users/yuzhoudeshengyin');
                        html += '<div onclick="window.open(\'http://localhost:' + item.port + '\', \'_blank\')" style="padding: 12px 14px; margin-bottom: 10px; background: ' + (exists ? '#f8f8f8' : '#f5f5f5') + '; border-radius: 8px; border-left: 4px solid ' + (exists ? '#5a5a5a' : '#7a7a7a') + '; display: flex; align-items: center; justify-content: space-between; cursor: ' + (exists ? 'pointer' : 'default') + '; transition: all 0.2s; box-shadow: 0 1px 3px rgba(0,0,0,0.05);"' + (exists ? ' onmouseover="this.style.background=\'#f0f0f0\'; this.style.transform=\'translateX(4px)\'; this.style.boxShadow=\'0 2px 6px rgba(0,0,0,0.1)\';" onmouseout="this.style.background=\'#f8f8f8\'; this.style.transform=\'translateX(0)\'; this.style.boxShadow=\'0 1px 3px rgba(0,0,0,0.05)\';" title="ç‚¹å‡»è®¿é—® http://localhost:' + item.port + '"' : '') + '><div style="display: flex; align-items: center; gap: 12px; flex: 1;"><span style="font-size: 18px;">' + (exists ? 'ğŸš€' : 'âŒ') + '</span><div style="flex: 1;"><div style="font-weight: 600; color: ' + (exists ? '#3a3a3a' : '#5a5a5a') + '; font-size: 14px;">' + item.name + '</div><div style="font-size: 12px; color: #8a8a8a; margin-top: 2px;">' + fullPath + '</div></div></div>' + (exists ? '<div style="display: flex; align-items: center; gap: 8px; padding: 6px 12px; background: #e8e8e8; border-radius: 6px;"><span style="font-size: 12px; font-weight: 600; color: #5a5a5a;">ç«¯å£ ' + item.port + '</span><span style="font-size: 14px;">â†—ï¸</span></div>' : '') + '</div>';
                    } else {
                        const filePath = item.file.replace('~', '/Users/yuzhoudeshengyin');
                        html += '<div onclick="window.open(\'file://' + filePath + '\', \'_blank\')" style="padding: 12px 14px; margin-bottom: 10px; background: ' + (exists ? '#f8f8f8' : '#f5f5f5') + '; border-radius: 8px; border-left: 4px solid ' + (exists ? '#5a5a5a' : '#7a7a7a') + '; display: flex; align-items: center; justify-content: space-between; cursor: ' + (exists ? 'pointer' : 'default') + '; transition: all 0.2s; box-shadow: 0 1px 3px rgba(0,0,0,0.05);"' + (exists ? ' onmouseover="this.style.background=\'#f0f0f0\'; this.style.transform=\'translateX(4px)\'; this.style.boxShadow=\'0 2px 6px rgba(0,0,0,0.1)\';" onmouseout="this.style.background=\'#f8f8f8\'; this.style.transform=\'translateX(0)\'; this.style.boxShadow=\'0 1px 3px rgba(0,0,0,0.05)\';" title="ç‚¹å‡»æ‰“å¼€ ' + filePath + '"' : '') + '><div style="display: flex; align-items: center; gap: 12px; flex: 1;"><span style="font-size: 18px;">' + (exists ? 'ğŸ“„' : 'âŒ') + '</span><div style="flex: 1;"><div style="font-weight: 600; color: ' + (exists ? '#3a3a3a' : '#5a5a5a') + '; font-size: 14px;">' + item.desc + '</div><div style="font-size: 12px; color: #8a8a8a; margin-top: 2px;">' + item.file + '</div></div></div>' + (exists ? '<span style="font-size: 16px; color: #6a6a6a;">â†—ï¸</span>' : '') + '</div>';
                    }
                });


                html += '</div></div>';
            });

            html += '</div>';

            // æ·»åŠ è¯´æ˜
            html += `
                <div style="margin-top: 30px; padding: 15px; background: #f0f0f0; border-radius: 8px; border-left: 4px solid #5a5a5a;">
                    <p style="margin: 0; font-size: 13px; color: #6a6a6a;">
                        ğŸ’¡ <strong>æç¤ºï¼š</strong>ç‚¹å‡»é¡¹ç›®å¯è®¿é—®å¯¹åº”ç«¯å£ï¼Œç‚¹å‡»æ–‡æ¡£æ–‡ä»¶å¯ç›´æ¥æ‰“å¼€ã€‚
                    </p>
                </div>
            `;

            container.innerHTML = html;
        }

        // æ¸²æŸ“å¾…åŠæ¸…å•å†…å®¹
        function renderTodosContent() {
            const container = document.getElementById('todosContent');
            const projectId = currentProjectFilter;
            const todos = getTodos();
            const projects = getProjects();

            if (!projectId) {
                // æ˜¾ç¤ºæ‰€æœ‰é¡¹ç›®çš„å¾…åŠæ¸…å•
                let html = '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">';
                html += '<h2 style="margin: 0;">âœ… å…¨éƒ¨é¡¹ç›®å¾…åŠæ¸…å•</h2>';
                html += '<div style="display: flex; gap: 10px;">';
                html += '<button class="btn-quick-add" onclick="showQuickAddTodo()">â• å¿«é€Ÿæ·»åŠ å¾…åŠ</button>';
                html += '<button class="btn btn-success" onclick="extractTodosFromTodayLog()">ğŸ“¥ ä»ä»Šæ—¥æ—¥å¿—æå–</button>';
                html += '</div></div>';

                // å¿«é€Ÿæ·»åŠ å¾…åŠè¡¨å•
                html += `
                    <div id="quickAddTodoForm" style="display: none; background: rgba(245, 245, 245, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); padding: 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid rgba(100, 100, 100, 0.3); box-shadow: 0 8px 32px rgba(100, 100, 100, 0.1);">
                        <h3 style="margin: 0 0 15px 0; font-size: 16px;">â• å¿«é€Ÿæ·»åŠ å¾…åŠäº‹é¡¹</h3>
                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                            <select id="quickTodoProject" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; background: white;">
                                <option value="">é€‰æ‹©é¡¹ç›®...</option>
                                ${projects.map(p => `<option value="${p.id}">${p.name}</option>`).join('')}
                            </select>
                            <select id="quickTodoPriority" style="width: 120px; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; background: white;">
                                <option value="high">ğŸ”´ é«˜</option>
                                <option value="medium" selected>ğŸŸ¡ ä¸­</option>
                                <option value="low">ğŸŸ¢ ä½</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                            <textarea id="quickTodoText" class="form-control" placeholder="è¾“å…¥å¾…åŠäº‹é¡¹ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰&#10;ä¾‹å¦‚ï¼š&#10;ä¿®å¤ç™»å½•bug&#10;ä¼˜åŒ–é¦–é¡µåŠ è½½&#10;æ·»åŠ ç”¨æˆ·åé¦ˆåŠŸèƒ½" rows="4" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; resize: vertical; min-height: 80px;"></textarea>
                            <div style="display: flex; flex-direction: column; gap: 10px;">
                                <input type="date" id="quickTodoDueDate" style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
                            </div>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-success" onclick="quickAddTodo()">æ·»åŠ </button>
                            <button class="btn btn-primary" onclick="hideQuickAddTodo()">å–æ¶ˆ</button>
                        </div>
                    </div>
                `;

                const hasTodos = projects.some(p => todos[p.id] && todos[p.id].length > 0);

                if (!hasTodos) {
                    html += `
                        <div class="empty-todos">
                            <div class="emoji">ğŸ“‹</div>
                            <div>æš‚æ— å¾…åŠäº‹é¡¹</div>
                            <div style="font-size: 13px; margin-top: 8px;">ç‚¹å‡»"å¿«é€Ÿæ·»åŠ å¾…åŠ"å¼€å§‹æ·»åŠ ï¼Œæˆ–ä»ä»Šæ—¥æ—¥å¿—ä¸­æå–</div>
                        </div>
                    `;
                    container.innerHTML = html;
                    return;
                }

                projects.forEach(project => {
                    const projectTodos = todos[project.id] || [];
                    if (projectTodos.length === 0) return;

                    html += renderProjectTodoCard(project, projectTodos);
                });

                container.innerHTML = html;
                return;
            }

            // æ˜¾ç¤ºç‰¹å®šé¡¹ç›®çš„å¾…åŠæ¸…å•
            const project = projects.find(p => p.id === projectId);
            const projectTodos = todos[projectId] || [];

            let html = `<h2 style="margin-bottom: 20px;">âœ… ${project.name} - å¾…åŠæ¸…å•</h2>`;

            if (projectTodos.length === 0) {
                html += `
                    <div class="empty-todos">
                        <div class="emoji">ğŸ“‹</div>
                        <div>è¯¥é¡¹ç›®æš‚æ— å¾…åŠäº‹é¡¹</div>
                        <div style="font-size: 13px; margin-top: 8px;">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ ç¬¬ä¸€ä¸ªå¾…åŠ</div>
                    </div>
                    <div style="margin-top: 20px;">
                        <button class="btn btn-success" onclick="showAddTodoForm('${projectId}')">â• æ·»åŠ å¾…åŠ</button>
                    </div>
                `;
            } else {
                html += renderProjectTodoCard(project, projectTodos, true);
            }

            container.innerHTML = html;
        }

        // æ¸²æŸ“å•ä¸ªé¡¹ç›®çš„å¾…åŠå¡ç‰‡
        function renderProjectTodoCard(project, projectTodos, showAddButton = false) {
            // æ’åºï¼šå·²å®Œæˆçš„åæ’ï¼Œå‰é¢æŒ‰ä¼˜å…ˆçº§æ’åºï¼ˆé«˜>ä¸­>ä½ï¼‰
            const priorityOrder = { 'high': 0, 'medium': 1, 'low': 2 };

            const sortedTodos = [...projectTodos].sort((a, b) => {
                // å·²å®Œæˆçš„æ’åœ¨åé¢
                if (a.status === 'completed' && b.status !== 'completed') return 1;
                if (a.status !== 'completed' && b.status === 'completed') return -1;

                // å¦‚æœéƒ½å·²å®Œæˆæˆ–éƒ½æœªå®Œæˆï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åº
                if (a.status === 'completed' && b.status === 'completed') {
                    return 0; // å·²å®Œæˆçš„ä¿æŒåŸé¡ºåº
                }

                // æœªå®Œæˆçš„æŒ‰ä¼˜å…ˆçº§æ’åº
                return priorityOrder[a.priority] - priorityOrder[b.priority];
            });

            const pending = sortedTodos.filter(t => t.status === 'pending').length;
            const inProgress = sortedTodos.filter(t => t.status === 'in-progress').length;
            const completed = sortedTodos.filter(t => t.status === 'completed').length;

            let html = `
                <div class="todo-project-card">
                    <div class="todo-project-header" onclick="this.nextElementSibling.style.display = this.nextElementSibling.style.display === 'none' ? 'block' : 'none'">
                        <h3>${project.name}</h3>
                        <div class="todo-project-stats">
                            <span>â³ ${pending}</span>
                            <span>ğŸ”„ ${inProgress}</span>
                            <span>âœ… ${completed}</span>
                        </div>
                    </div>
                    <div class="todo-list">
                        ${sortedTodos.map(todo => renderTodoItem(project.id, todo)).join('')}
                        ${showAddButton ? `
                            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #dee2e6;">
                                <button class="btn btn-success" onclick="showAddTodoForm('${project.id}')" style="font-size: 13px;">â• æ·»åŠ å¾…åŠ</button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
            return html;
        }

        // æ¸²æŸ“å•ä¸ªå¾…åŠäº‹é¡¹
        function renderTodoItem(projectId, todo) {
            const priorityLabels = {
                'high': 'é«˜',
                'medium': 'ä¸­',
                'low': 'ä½'
            };

            const dueDateHtml = todo.dueDate ? `<span class="todo-due-date ${isOverdue(todo.dueDate) && todo.status !== 'completed' ? 'overdue' : ''}">ğŸ“… ${todo.dueDate}</span>` : '';

            return `
                <div class="todo-item ${todo.status === 'completed' ? 'completed' : ''}">
                    <input type="checkbox" class="todo-checkbox" ${todo.status === 'completed' ? 'checked' : ''} onchange="toggleTodoStatus('${projectId}', '${todo.id}')">
                    <div class="todo-content">
                        <span class="todo-text">${escapeHtml(todo.text)}</span>
                        <span class="todo-priority ${todo.priority}">${priorityLabels[todo.priority]}</span>
                        ${dueDateHtml}
                    </div>
                    <div class="todo-actions">
                        <button class="todo-btn" onclick="editTodo('${projectId}', '${todo.id}')" title="ç¼–è¾‘">âœï¸</button>
                        <button class="todo-btn todo-btn-delete" onclick="deleteTodo('${projectId}', '${todo.id}')" title="åˆ é™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `;
        }

        // åˆ¤æ–­æ˜¯å¦è¿‡æœŸ
        function isOverdue(dueDate) {
            const today = new Date().toISOString().split('T')[0];
            return dueDate < today;
        }

        // åˆ‡æ¢å¾…åŠçŠ¶æ€
        function toggleTodoStatus(projectId, todoId) {
            const todos = getTodos();
            const todo = todos[projectId].find(t => t.id === todoId);
            if (todo) {
                todo.status = todo.status === 'completed' ? 'pending' : 'completed';
                saveTodos(todos);
                renderTodosContent();
            }
        }

        // åˆ é™¤å¾…åŠ
        function deleteTodo(projectId, todoId) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¾…åŠäº‹é¡¹å—ï¼Ÿ')) return;

            const todos = getTodos();
            todos[projectId] = todos[projectId].filter(t => t.id !== todoId);
            saveTodos(todos);
            renderTodosContent();
        }

        // æ˜¾ç¤ºæ·»åŠ å¾…åŠè¡¨å•
        function showAddTodoForm(projectId) {
            const projects = getProjects();
            const project = projects.find(p => p.id === projectId);

            const formHtml = `
                <div id="addTodoModal" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000;">
                    <div style="background: white; border-radius: 12px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                        <h2 style="margin: 0 0 20px 0; font-size: 20px;">â• æ·»åŠ å¾…åŠ - ${project.name}</h2>
                        <div class="form-group">
                            <label>å¾…åŠå†…å®¹ *</label>
                            <input type="text" id="newTodoText" class="form-control" placeholder="è¾“å…¥å¾…åŠäº‹é¡¹..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                        </div>
                        <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                            <div class="form-group" style="flex: 1;">
                                <label>ä¼˜å…ˆçº§</label>
                                <select id="newTodoPriority" class="form-control" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                                    <option value="high">ğŸ”´ é«˜ä¼˜å…ˆçº§</option>
                                    <option value="medium" selected>ğŸŸ¡ ä¸­ä¼˜å…ˆçº§</option>
                                    <option value="low">ğŸŸ¢ ä½ä¼˜å…ˆçº§</option>
                                </select>
                            </div>
                            <div class="form-group" style="flex: 1;">
                                <label>æˆªæ­¢æ—¥æœŸ</label>
                                <input type="date" id="newTodoDueDate" class="form-control" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                            </div>
                        </div>
                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button class="btn btn-primary" onclick="closeAddTodoModal()">å–æ¶ˆ</button>
                            <button class="btn btn-success" onclick="addTodo('${projectId}')">æ·»åŠ </button>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', formHtml);
            document.getElementById('newTodoText').focus();
        }

        // å…³é—­æ·»åŠ å¾…åŠè¡¨å•
        function closeAddTodoModal() {
            const modal = document.getElementById('addTodoModal');
            if (modal) modal.remove();
        }

        // æ·»åŠ å¾…åŠ
        function addTodo(projectId) {
            const text = document.getElementById('newTodoText').value.trim();
            const priority = document.getElementById('newTodoPriority').value;
            const dueDate = document.getElementById('newTodoDueDate').value;

            if (!text) {
                alert('è¯·è¾“å…¥å¾…åŠå†…å®¹');
                return;
            }

            const todos = getTodos();
            if (!todos[projectId]) {
                todos[projectId] = [];
            }

            const newTodo = {
                id: Date.now().toString(),
                text: text,
                status: 'pending',
                priority: priority,
                dueDate: dueDate || null,
                createdAt: new Date().toISOString()
            };

            todos[projectId].push(newTodo);
            saveTodos(todos);

            closeAddTodoModal();
            renderTodosContent();
        }

        // ç¼–è¾‘å¾…åŠ
        function editTodo(projectId, todoId) {
            const todos = getTodos();
            const todo = todos[projectId].find(t => t.id === todoId);
            if (!todo) return;

            const formHtml = `
                <div id="editTodoModal" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000;">
                    <div style="background: white; border-radius: 12px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">
                        <h2 style="margin: 0 0 20px 0; font-size: 20px;">âœï¸ ç¼–è¾‘å¾…åŠ</h2>
                        <div class="form-group">
                            <label>å¾…åŠå†…å®¹ *</label>
                            <input type="text" id="editTodoText" class="form-control" value="${escapeHtml(todo.text)}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                        </div>
                        <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                            <div class="form-group" style="flex: 1;">
                                <label>ä¼˜å…ˆçº§</label>
                                <select id="editTodoPriority" class="form-control" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                                    <option value="high" ${todo.priority === 'high' ? 'selected' : ''}>ğŸ”´ é«˜ä¼˜å…ˆçº§</option>
                                    <option value="medium" ${todo.priority === 'medium' ? 'selected' : ''}>ğŸŸ¡ ä¸­ä¼˜å…ˆçº§</option>
                                    <option value="low" ${todo.priority === 'low' ? 'selected' : ''}>ğŸŸ¢ ä½ä¼˜å…ˆçº§</option>
                                </select>
                            </div>
                            <div class="form-group" style="flex: 1;">
                                <label>çŠ¶æ€</label>
                                <select id="editTodoStatus" class="form-control" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                                    <option value="pending" ${todo.status === 'pending' ? 'selected' : ''}>â³ å¾…å¼€å§‹</option>
                                    <option value="in-progress" ${todo.status === 'in-progress' ? 'selected' : ''}>ğŸ”„ è¿›è¡Œä¸­</option>
                                    <option value="completed" ${todo.status === 'completed' ? 'selected' : ''}>âœ… å·²å®Œæˆ</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>æˆªæ­¢æ—¥æœŸ</label>
                            <input type="date" id="editTodoDueDate" class="form-control" value="${todo.dueDate || ''}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                        </div>
                        <div style="display: flex; gap: 10px; justify-items: flex-end;">
                            <button class="btn btn-primary" onclick="closeEditTodoModal()">å–æ¶ˆ</button>
                            <button class="btn btn-success" onclick="saveTodoEdit('${projectId}', '${todoId}')">ä¿å­˜</button>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', formHtml);
            document.getElementById('editTodoText').focus();
        }

        // å…³é—­ç¼–è¾‘å¾…åŠè¡¨å•
        function closeEditTodoModal() {
            const modal = document.getElementById('editTodoModal');
            if (modal) modal.remove();
        }

        // ä¿å­˜å¾…åŠç¼–è¾‘
        function saveTodoEdit(projectId, todoId) {
            const text = document.getElementById('editTodoText').value.trim();
            const priority = document.getElementById('editTodoPriority').value;
            const status = document.getElementById('editTodoStatus').value;
            const dueDate = document.getElementById('editTodoDueDate').value;

            if (!text) {
                alert('è¯·è¾“å…¥å¾…åŠå†…å®¹');
                return;
            }

            const todos = getTodos();
            const todo = todos[projectId].find(t => t.id === todoId);
            if (todo) {
                todo.text = text;
                todo.priority = priority;
                todo.status = status;
                todo.dueDate = dueDate || null;
                saveTodos(todos);
            }

            closeEditTodoModal();
            renderTodosContent();
        }

        // ä»ä»Šæ—¥æ—¥å¿—æå–å¾…åŠäº‹é¡¹
        function extractTodosFromTodayLog() {
            const logs = getLogs();
            const todos = getTodos();
            const projects = getProjects();
            const today = new Date().toISOString().split('T')[0];

            // è·å–ä»Šå¤©çš„æ—¥å¿—
            const todayLogs = logs.filter(log => log.date === today);

            if (todayLogs.length === 0) {
                alert('ä»Šå¤©è¿˜æ²¡æœ‰å·¥ä½œæ—¥å¿—ï¼Œè¯·å…ˆæ·»åŠ æ—¥å¿—å†æå–å¾…åŠäº‹é¡¹ã€‚');
                return;
            }

            let extractedCount = 0;
            const extractedByProject = {};

            // å¾…åŠäº‹é¡¹å…³é”®è¯ï¼ˆä¸­æ–‡å’Œè‹±æ–‡ï¼‰
            const todoKeywords = [
                'å¾…åŠ', 'å¾…åš', 'æœªå®Œæˆ', 'TODO', 'todo', 'å¾…å®Œæˆ',
                'éœ€è¦', 'è¿˜éœ€', 'ç»§ç»­', 'è·Ÿè¿›', 'å¤„ç†',
                'è§£å†³', 'ä¿®å¤', 'ä¼˜åŒ–', 'æ·»åŠ ', 'å®ç°'
            ];

            todayLogs.forEach(log => {
                if (!log.items || log.items.length === 0) return;

                // è·å–é¡¹ç›®åç§°
                const project = projects.find(p => p.id === log.projectId);
                const projectName = project ? project.name : log.projectName || 'æœªçŸ¥é¡¹ç›®';

                // ç¡®ä¿è¯¥é¡¹ç›®æœ‰å¾…åŠæ•°ç»„
                if (!todos[log.projectId]) {
                    todos[log.projectId] = [];
                }

                // åˆå§‹åŒ–è¯¥é¡¹ç›®è®¡æ•°
                if (!extractedByProject[log.projectId]) {
                    extractedByProject[log.projectId] = { name: projectName, count: 0 };
                }

                log.items.forEach(item => {
                    const trimmedItem = item.trim();

                    // è·³è¿‡å·²å®Œæˆçš„é¡¹ç›®ï¼ˆä»¥âœ…å¼€å¤´çš„ï¼‰
                    if (trimmedItem.startsWith('âœ…') || trimmedItem.startsWith('å®Œæˆ')) {
                        return;
                    }

                    // æ£€æŸ¥æ˜¯å¦åŒ…å«å¾…åŠå…³é”®è¯
                    const hasTodoKeyword = todoKeywords.some(keyword =>
                        trimmedItem.toLowerCase().includes(keyword.toLowerCase())
                    );

                    if (hasTodoKeyword) {
                        // æ¸…ç†æ–‡æœ¬ï¼Œç§»é™¤ç¬¦å·
                        let cleanText = trimmedItem
                            .replace(/^[â– â—â–ªÂ·-]\s*/, '')  // ç§»é™¤å¼€å¤´çš„é¡¹ç›®ç¬¦å·
                            .replace(/^(å¾…åŠ|TODO|todo):?\s*/i, '')  // ç§»é™¤å¾…åŠæ ‡è®°
                            .trim();

                        // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒçš„å¾…åŠ
                        const exists = todos[log.projectId].some(t =>
                            t.text === cleanText || t.text === trimmedItem
                        );

                        if (!exists && cleanText.length > 0) {
                            // æ ¹æ®å…³é”®è¯åˆ¤æ–­ä¼˜å…ˆçº§
                            let priority = 'medium';
                            if (cleanText.includes('ç´§æ€¥') || cleanText.includes('é‡è¦') || cleanText.includes('!!!')) {
                                priority = 'high';
                            } else if (cleanText.includes('ä¼˜åŒ–') || cleanText.includes('æ”¹è¿›')) {
                                priority = 'low';
                            }

                            const newTodo = {
                                id: Date.now().toString() + Math.random().toString(36).substr(2, 9),
                                text: cleanText,
                                status: 'pending',
                                priority: priority,
                                dueDate: null,
                                createdAt: new Date().toISOString(),
                                source: 'today-log'
                            };

                            todos[log.projectId].push(newTodo);
                            extractedCount++;
                            extractedByProject[log.projectId].count++;
                        }
                    }
                });
            });

            if (extractedCount === 0) {
                alert('ä»Šå¤©çš„æ—¥å¿—ä¸­æ²¡æœ‰æ‰¾åˆ°å¾…åŠäº‹é¡¹ã€‚\n\næç¤ºï¼šæ—¥å¿—ä¸­åŒ…å«"å¾…åŠ"ã€"æœªå®Œæˆ"ã€"éœ€è¦"ã€"ç»§ç»­"ç­‰å…³é”®è¯çš„å†…å®¹ä¼šè¢«è¯†åˆ«ä¸ºå¾…åŠäº‹é¡¹ã€‚');
                return;
            }

            saveTodos(todos);
            renderTodosContent();

            // æ„å»ºè¯¦ç»†çš„æ¶ˆæ¯
            let message = `âœ… æˆåŠŸä»ä»Šæ—¥æ—¥å¿—æå–äº† ${extractedCount} ä¸ªå¾…åŠäº‹é¡¹ï¼\n\n`;
            Object.values(extractedByProject).forEach(({ name, count }) => {
                message += `â€¢ ${name}: ${count} ä¸ª\n`;
            });

            alert(message);
        }

        // æ˜¾ç¤ºå¿«é€Ÿæ·»åŠ å¾…åŠè¡¨å•
        function showQuickAddTodo() {
            const form = document.getElementById('quickAddTodoForm');
            form.style.display = 'block';
            document.getElementById('quickTodoText').focus();
        }

        // éšè—å¿«é€Ÿæ·»åŠ å¾…åŠè¡¨å•
        function hideQuickAddTodo() {
            const form = document.getElementById('quickAddTodoForm');
            form.style.display = 'none';
            document.getElementById('quickTodoText').value = '';
            document.getElementById('quickTodoDueDate').value = '';
            document.getElementById('quickTodoProject').value = '';
        }

        // å¿«é€Ÿæ·»åŠ å¾…åŠ
        function quickAddTodo() {
            const projectId = document.getElementById('quickTodoProject').value;
            const text = document.getElementById('quickTodoText').value.trim();
            const priority = document.getElementById('quickTodoPriority').value;
            const dueDate = document.getElementById('quickTodoDueDate').value;

            if (!projectId) {
                alert('è¯·é€‰æ‹©é¡¹ç›®');
                return;
            }

            if (!text) {
                alert('è¯·è¾“å…¥å¾…åŠå†…å®¹');
                return;
            }

            const projects = getProjects();
            const project = projects.find(p => p.id === projectId);
            const projectName = project ? project.name : 'æœªçŸ¥é¡¹ç›®';

            const todos = getTodos();
            if (!todos[projectId]) {
                todos[projectId] = [];
            }

            // æ”¯æŒæ‰¹é‡æ·»åŠ ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰
            const lines = text.split('\n').filter(line => line.trim());
            let addedCount = 0;

            lines.forEach(line => {
                const cleanText = line.trim();
                if (cleanText) {
                    const newTodo = {
                        id: Date.now().toString() + Math.random().toString(36).substr(2, 9),
                        text: cleanText,
                        status: 'pending',
                        priority: priority,
                        dueDate: dueDate || null,
                        createdAt: new Date().toISOString()
                    };
                    todos[projectId].push(newTodo);
                    addedCount++;
                }
            });

            saveTodos(todos);

            // æ¸…ç©ºè¡¨å•ä½†ä¿æŒå±•å¼€ï¼Œæ–¹ä¾¿ç»§ç»­æ·»åŠ 
            document.getElementById('quickTodoText').value = '';

            renderTodosContent();

            // é‡æ–°æ˜¾ç¤ºè¡¨å•
            setTimeout(() => {
                showQuickAddTodo();
            }, 100);

            // æ˜¾ç¤ºæ·»åŠ æˆåŠŸæç¤ºï¼ˆåŒ…å«é¡¹ç›®åç§°ï¼‰
            if (addedCount > 0) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #3a3a3a;
                    color: white;
                    padding: 12px 24px;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 10000;
                    font-size: 14px;
                    animation: slideIn 0.3s ease-out;
                `;
                notification.textContent = `âœ… å·²ä¸ºã€Œ${projectName}ã€æ·»åŠ  ${addedCount} ä¸ªå¾…åŠäº‹é¡¹ï¼`;
                document.body.appendChild(notification);

                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease-out';
                    setTimeout(() => notification.remove(), 300);
                }, 2000);
            }
        }

        // è‡ªåŠ¨åˆ›å»ºä»Šæ—¥æ€»ç»“
        function autoCreateTodaySummary() {
            const logs = getLogs();
            const today = new Date().toISOString().split('T')[0];

            // æ£€æŸ¥ä»Šå¤©æ˜¯å¦å·²æœ‰æ—¥å¿—
            const hasTodayLog = logs.some(log => log.date === today);

            if (!hasTodayLog) {
                const todayLog = {
                    id: Date.now().toString(),
                    projectId: 'english-learning-tts',
                    projectName: 'è‹±è¯­æœ—è¯»å­¦ä¹ ',
                    date: today,
                    datetime: new Date().toLocaleString('zh-CN'),
                    title: 'ğŸ“š ä»Šæ—¥å·¥ä½œæ€»ç»“',
                    tags: [{ name: 'ğŸ”§ ä¿®å¤', type: 'fix' }],
                    items: [
                        'âœ… ä¿®å¤ TTS é˜Ÿåˆ—ç­–ç•¥é—®é¢˜ - è§£å†³æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾ç­–ç•¥å¯¼è‡´çš„ not-allowed é”™è¯¯',
                        'âœ… åˆ›å»ºé¡¹ç›®æ—¥å¿—ç³»ç»Ÿ - æŒ‰é¡¹ç›®å’Œæ—¥æœŸç»„ç»‡å·¥ä½œæ€»ç»“',
                        'âœ… åˆ›å»ºé¡¹ç›®æ€»ç»“æ–‡æ¡£ - æ±‡æ€»9å¤§è¸©å‘å’Œæœ€ä½³å®è·µ',
                        'âœ… åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼ - æ–¹ä¾¿å¿«é€Ÿè®¿é—®ç³»ç»Ÿ'
                    ],
                    code: null
                };

                logs.unshift(todayLog);
                saveLogs(logs);
                console.log('âœ… ä»Šæ—¥æ€»ç»“å·²è‡ªåŠ¨åˆ›å»º');
            }
        }

        // æ‰‹åŠ¨è§¦å‘å†å²æ—¥å¿—ç”Ÿæˆï¼ˆç”¨æˆ·æŒ‰é’®è°ƒç”¨ï¼‰
        function manualGenerateHistoricalLogs() {
            const days = prompt('è¯·è¾“å…¥è¦æ£€æŸ¥çš„å¤©æ•°ï¼ˆé»˜è®¤7å¤©ï¼Œæœ€å¤š30å¤©ï¼‰ï¼š', '7');
            const daysToCheck = Math.min(Math.max(parseInt(days) || 7, 1), 30);

            if (isNaN(daysToCheck)) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—');
                return;
            }

            const filledDays = generateHistoricalLogs(daysToCheck);

            if (filledDays > 0) {
                alert(`âœ… æˆåŠŸç”Ÿæˆ ${filledDays} æ¡å†å²æ—¥å¿—ï¼\n\nç³»ç»Ÿå·²ä¸ºæœ€è¿‘ ${daysToCheck} å¤©ä¸­ç¼ºå¤±çš„æ—¥æœŸåˆ›å»ºäº†æ—¥å¿—æ¨¡æ¿ã€‚`);
                renderAll();
            } else {
                alert(`â„¹ï¸ æœ€è¿‘ ${daysToCheck} å¤©çš„æ—¥å¿—å·²å®Œæ•´ï¼Œæ— éœ€è¡¥å……ã€‚`);
            }
        }

        // è‡ªåŠ¨ç”Ÿæˆå†å²æ—¥å¿—ï¼ˆå¡«è¡¥ç©ºç¼ºæ—¥æœŸï¼‰
        function generateHistoricalLogs(daysToCheck = 7) {
            const logs = getLogs();
            const projects = getProjects();

            if (projects.length === 0) {
                console.log('âš ï¸ æ²¡æœ‰é¡¹ç›®é…ç½®ï¼Œè·³è¿‡å†å²æ—¥å¿—ç”Ÿæˆ');
                return;
            }

            // è·å–å·²æœ‰æ—¥å¿—çš„æ—¥æœŸé›†åˆ
            const existingDates = new Set(logs.map(log => log.date));

            // è·å–ä»Šå¤©çš„æ—¥æœŸ
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            // é»˜è®¤é¡¹ç›®ï¼ˆä½¿ç”¨ç¬¬ä¸€ä¸ªé¡¹ç›®æˆ–æœ€å¸¸è§çš„é¡¹ç›®ï¼‰
            const defaultProject = projects[0];

            // ç”Ÿæˆæ¨¡æ¿å†…å®¹é€‰é¡¹
            const templateOptions = {
                items: [
                    'ğŸ“‹ æŸ¥çœ‹é¡¹ç›®è¿›åº¦å’Œå¾…åŠäº‹é¡¹',
                    'ğŸ” åˆ†æä»£ç é—®é¢˜å¹¶åˆ¶å®šè§£å†³æ–¹æ¡ˆ',
                    'âœ¨ å®ŒæˆåŠŸèƒ½å¼€å‘',
                    'ğŸ› ä¿®å¤å·²çŸ¥é—®é¢˜',
                    'ğŸ“š å­¦ä¹ æ–°æŠ€æœ¯å’Œæœ€ä½³å®è·µ',
                    'ğŸ“ ç¼–å†™æŠ€æœ¯æ–‡æ¡£',
                    'ğŸ’¬ å›¢é˜Ÿæ²Ÿé€šå’Œåä½œ',
                    'ğŸ¯ è§„åˆ’ä¸‹ä¸€æ­¥å·¥ä½œ'
                ],
                titles: [
                    'ğŸ’¼ æ—¥å¸¸å·¥ä½œè®°å½•',
                    'ğŸš€ åŠŸèƒ½å¼€å‘è¿›åº¦',
                    'ğŸ”§ é—®é¢˜ä¿®å¤ä¸ä¼˜åŒ–',
                    'ğŸ“š å­¦ä¹ ä¸ç ”ç©¶',
                    'ğŸ¯ é¡¹ç›®æ¨è¿›'
                ],
                tags: [
                    { name: 'ğŸš€ å¼€å‘', type: 'feature' },
                    { name: 'ğŸ”§ ä¿®å¤', type: 'fix' },
                    { name: 'ğŸ“š å­¦ä¹ ', type: 'learning' },
                    { name: 'ğŸ” åˆ†æ', type: 'analysis' },
                    { name: 'âœ¨ ä¼˜åŒ–', type: 'improvement' }
                ]
            };

            let generatedCount = 0;
            const newLogs = [];

            // æ£€æŸ¥å‰å‡ å¤©ï¼ˆä¸åŒ…æ‹¬ä»Šå¤©ï¼‰
            for (let i = 1; i <= daysToCheck; i++) {
                const checkDate = new Date(today);
                checkDate.setDate(checkDate.getDate() - i);
                const dateStr = checkDate.toISOString().split('T')[0];

                // å¦‚æœè¿™å¤©æ²¡æœ‰æ—¥å¿—ï¼Œåˆ›å»ºä¸€ä¸ªæ¨¡æ¿
                if (!existingDates.has(dateStr)) {
                    // éšæœºé€‰æ‹©æ¨¡æ¿å†…å®¹
                    const randomTitle = templateOptions.titles[Math.floor(Math.random() * templateOptions.titles.length)];
                    const randomTag = templateOptions.tags[Math.floor(Math.random() * templateOptions.tags.length)];

                    // éšæœºé€‰æ‹©2-4ä¸ªå·¥ä½œäº‹é¡¹
                    const shuffledItems = [...templateOptions.items].sort(() => 0.5 - Math.random());
                    const selectedItems = shuffledItems.slice(0, Math.floor(Math.random() * 3) + 2);

                    const templateLog = {
                        id: (Date.now() - i * 1000).toString(),
                        projectId: defaultProject.id,
                        projectName: defaultProject.name,
                        date: dateStr,
                        datetime: new Date(checkDate).toLocaleString('zh-CN'),
                        title: randomTitle,
                        tags: [randomTag],
                        items: selectedItems,
                        code: null,
                        isAutoGenerated: true // æ ‡è®°ä¸ºè‡ªåŠ¨ç”Ÿæˆ
                    };

                    newLogs.push(templateLog);
                    generatedCount++;
                }
            }

            // å¦‚æœæœ‰ç”Ÿæˆçš„æ–°æ—¥å¿—ï¼Œä¿å­˜åˆ°localStorage
            if (newLogs.length > 0) {
                // åˆå¹¶ç°æœ‰æ—¥å¿—å’Œæ–°æ—¥å¿—ï¼ŒæŒ‰æ—¥æœŸæ’åº
                const allLogs = [...newLogs, ...logs];
                allLogs.sort((a, b) => new Date(b.date) - new Date(a.date));
                saveLogs(allLogs);
                console.log(`âœ… å·²è‡ªåŠ¨ç”Ÿæˆ ${generatedCount} æ¡å†å²æ—¥å¿—ï¼ˆæœ€è¿‘ ${daysToCheck} å¤©ï¼‰`);
            } else {
                console.log('â„¹ï¸ å†å²æ—¥å¿—å®Œæ•´ï¼Œæ— éœ€è¡¥å……');
            }

            return generatedCount;
        }

        // æ»šåŠ¨åˆ‡æ¢æ ‡ç­¾é¡µåŠŸèƒ½
        let currentTabIndex = 0;
        const tabOrder = ['todos', 'logs', 'summary', 'resources'];
        let isScrolling = false;
        let scrollTimeout = null;
        let lastScrollPosition = 0;
        let scrollDirection = 'down';
        let tabLockedUntil = 0; // ä½¿ç”¨æ—¶é—´æˆ³é”å®šï¼Œç›´åˆ°æŒ‡å®šæ—¶é—´åæ‰å…è®¸æ»šåŠ¨åˆ‡æ¢
        let MIN_SCROLL_DISTANCE = 30; // æœ€å°æ»šåŠ¨è·ç¦»ï¼Œé˜²æ­¢è¯¯è§¦

        function handleTabScroll(e) {
            // æ£€æŸ¥æ˜¯å¦åœ¨é”å®šæœŸå†…
            if (Date.now() < tabLockedUntil || isScrolling) return;

            const container = e.currentTarget;
            const scrollPosition = container.scrollTop;
            const scrollHeight = container.scrollHeight - container.clientHeight;
            const threshold = 30; // è§¦å‘åˆ‡æ¢çš„é˜ˆå€¼

            // ç¡®å®šæ»šåŠ¨æ–¹å‘
            const newDirection = scrollPosition > lastScrollPosition ? 'down' : 'up';
            const scrollDistance = Math.abs(scrollPosition - lastScrollPosition);

            // åªæœ‰æ»šåŠ¨è·ç¦»è¶…è¿‡æœ€å°å€¼æ‰æ›´æ–°æ–¹å‘
            if (scrollDistance > 5) {
                scrollDirection = newDirection;
                lastScrollPosition = scrollPosition;
            }

            // æ»šåŠ¨è·ç¦»ä¸å¤Ÿï¼Œä¸è§¦å‘
            if (scrollDistance < MIN_SCROLL_DISTANCE) return;

            // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
            if (scrollTimeout) {
                clearTimeout(scrollTimeout);
            }

            // ä½¿ç”¨é˜²æŠ–
            scrollTimeout = setTimeout(() => {
                // æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾ï¼ˆä»…åœ¨å‘ä¸‹æ»šåŠ¨æ—¶ï¼‰
                if (scrollDirection === 'down' &&
                    scrollPosition >= scrollHeight - threshold &&
                    currentTabIndex < tabOrder.length - 1) {
                    performTabSwitch('next', container);
                }
                // æ»šåŠ¨åˆ°é¡¶éƒ¨ï¼Œåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾ï¼ˆä»…åœ¨å‘ä¸Šæ»šåŠ¨æ—¶ï¼‰
                else if (scrollDirection === 'up' &&
                         scrollPosition <= threshold &&
                         currentTabIndex > 0) {
                    performTabSwitch('prev', container);
                }
            }, 100);
        }

        function performTabSwitch(direction, container) {
            isScrolling = true;
            tabLockedUntil = Date.now() + 1000; // é”å®š1ç§’

            if (direction === 'next') {
                currentTabIndex++;
                const nextTab = tabOrder[currentTabIndex];
                switchTab(nextTab);
                setTimeout(() => {
                    const newContainer = document.querySelector('.main');
                    if (newContainer) {
                        newContainer.scrollTop = 0;
                        lastScrollPosition = 0;
                    }
                    isScrolling = false;
                }, 100);
            } else {
                currentTabIndex--;
                const prevTab = tabOrder[currentTabIndex];
                switchTab(prevTab);
                setTimeout(() => {
                    const newContainer = document.querySelector('.main');
                    if (newContainer) {
                        newContainer.scrollTop = newContainer.scrollHeight;
                        lastScrollPosition = newContainer.scrollHeight;
                    }
                    isScrolling = false;
                }, 100);
            }
        }

        // åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', () => {
            initProjects();
            document.getElementById('logDate').value = new Date().toISOString().split('T')[0];

            // è‡ªåŠ¨ç”Ÿæˆå†å²è®°å½•ï¼ˆé¦–æ¬¡è¿è¡Œæ—¶ï¼ŒåŸºäºçœŸå®æ–‡ä»¶å†…å®¹ï¼‰
            generateProjectHistory();

            // æ¸²æŸ“é¡¹ç›®åˆ—è¡¨
            renderProjectList();

            // æ¸²æŸ“å¿«é€Ÿå…¥å£
            renderQuickAccess();

            // æ›´æ–°é¡¹ç›®é€‰æ‹©å™¨
            updateProjectSelector();

            renderAll();

            // æ¸²æŸ“å¾…åŠæ¸…å•ï¼ˆé»˜è®¤tabï¼‰
            renderTodosContent();

            // æ˜¾ç¤ºæ¬¢è¿å¼•å¯¼ï¼ˆå¦‚æœæ˜¯é¦–æ¬¡ä½¿ç”¨ï¼‰
            const logs = getLogs();
            if (logs.length > 0 && !localStorage.getItem('guide_dismissed')) {
                document.getElementById('welcomeGuide').style.display = 'block';
            }

            // ç›‘å¬é¡¹ç›®é€‰æ‹©
            document.getElementById('projectSelect').addEventListener('change', (e) => {
                document.getElementById('otherProjectGroup').style.display =
                    e.target.value === 'other' ? 'block' : 'none';
            });

            // æ¯æ—¥è‡ªåŠ¨å¡«å……æ—¥å¿—åŠŸèƒ½
            checkAndAutoFillDailyLogs();

            // æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡æ˜¯å¦éœ€è¦è‡ªåŠ¨å¡«å……
            setInterval(checkAndAutoFillDailyLogs, 60 * 60 * 1000);

            // æ»šåŠ¨åˆ‡æ¢æ ‡ç­¾é¡µåŠŸèƒ½å·²ç¦ç”¨ï¼ˆä¸å¥½ç”¨ï¼‰
            // å¦‚éœ€å¯ç”¨ï¼Œå¯å–æ¶ˆæ³¨é‡Šä»¥ä¸‹ä»£ç ï¼š
            // const mainContainer = document.querySelector('.main');
            // if (mainContainer) {
            //     mainContainer.addEventListener('scroll', handleTabScroll);
            // }
        });

        // æ£€æŸ¥å¹¶è‡ªåŠ¨å¡«å……æ¯æ—¥æ—¥å¿—
        function checkAndAutoFillDailyLogs() {
            const today = new Date().toISOString().split('T')[0];
            const logs = getLogs();
            const projects = getProjects();

            // æ£€æŸ¥æ¯ä¸ªé¡¹ç›®ä»Šå¤©æ˜¯å¦å·²æœ‰æ—¥å¿—
            const projectLogStatus = {};
            projects.forEach(project => {
                const hasTodayLog = logs.some(log =>
                    log.projectId === project.id && log.date === today
                );
                projectLogStatus[project.id] = hasTodayLog;
            });

            // å¦‚æœæ‰€æœ‰é¡¹ç›®éƒ½æ²¡æœ‰ä»Šå¤©çš„æ—¥å¿—ï¼Œåˆ›å»ºè‡ªåŠ¨å¡«å……æç¤º
            const allEmpty = Object.values(projectLogStatus).every(status => !status);
            if (allEmpty) {
                // æ˜¾ç¤ºè‡ªåŠ¨å¡«å……æç¤ºï¼ˆä»…ç¬¬ä¸€æ¬¡ï¼‰
                if (!sessionStorage.getItem('autoFillShown_' + today)) {
                    showAutoFillPrompt(projects);
                    sessionStorage.setItem('autoFillShown_' + today, 'true');
                }
            }

            // è¡¥å……æ—¥å¿—æé†’åŠŸèƒ½å·²ç¦ç”¨
            // å¦‚æœéƒ¨åˆ†é¡¹ç›®æœ‰æ—¥å¿—ï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦è¡¥å……å…¶ä»–é¡¹ç›®
            // const someHasLogs = Object.values(projectLogStatus).some(status => status);
            // if (someHasLogs && !allEmpty) {
            //     // æ‰¾å‡ºæ²¡æœ‰ä»Šå¤©æ—¥å¿—çš„é¡¹ç›®
            //     const missingProjects = projects.filter(p => !projectLogStatus[p.id]);
            //     if (missingProjects.length > 0 && !sessionStorage.getItem('autoFillSupplement_' + today)) {
            //         showSupplementPrompt(missingProjects);
            //         sessionStorage.setItem('autoFillSupplement_' + today, 'true');
            //     }
            // }
        }

        // æ˜¾ç¤ºè‡ªåŠ¨å¡«å……æç¤º
        function showAutoFillPrompt(projects) {
            const today = new Date().toISOString().split('T')[0];
            const todayStr = new Date().toLocaleDateString('zh-CN', {
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });

            let html = `
                <div id="autoFillPrompt" style="position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;">
                    <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 20px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); border: 2px solid #dee2e6;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <span style="font-size: 32px;">ğŸ“</span>
                            <div>
                                <h4 style="margin: 0; font-size: 16px; font-weight: 700; color: #1a1a1a;">ä»Šæ—¥å·¥ä½œæ—¥å¿—</h4>
                                <p style="margin: 4px 0 0 0; font-size: 13px; color: #666;">${todayStr}</p>
                            </div>
                        </div>
                        <p style="margin: 0 0 16px 0; font-size: 14px; color: #495057; line-height: 1.6;">
                            è¿˜æ²¡æœ‰è®°å½•ä»Šå¤©çš„å·¥ä½œå†…å®¹ï¼Œæ˜¯å¦è¦å¿«é€Ÿæ·»åŠ æ—¥å¿—ï¼Ÿ
                        </p>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button onclick="autoFillTodayLogs()" style="flex: 1; padding: 10px 16px; background: #3a3a3a; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#4a4a4a';" onmouseout="this.style.background='#3a3a3a';">
                                âœ¨ è‡ªåŠ¨å¡«å……
                            </button>
                            <button onclick="document.getElementById('autoFillPrompt').remove(); showAddForm();" style="flex: 1; padding: 10px 16px; background: white; color: #3a3a3a; border: 2px solid #3a3a3a; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#f8f9fa';" onmouseout="this.style.background='white';">
                                ğŸ“ æ‰‹åŠ¨æ·»åŠ 
                            </button>
                            <button onclick="document.getElementById('autoFillPrompt').remove();" style="padding: 10px 16px; background: transparent; color: #8a8a8a; border: none; border-radius: 8px; font-size: 14px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.color='#5a5a5a';" onmouseout="this.style.color='#8a8a8a';">
                                ç¨åå†è¯´
                            </button>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', html);
        }

        // æ˜¾ç¤ºè¡¥å……æç¤º
        function showSupplementPrompt(missingProjects) {
            const projectNames = missingProjects.map(p => p.name.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g, '').trim()).join('ã€');

            let html = `
                <div id="supplementPrompt" style="position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;">
                    <div style="background: linear-gradient(135deg, #fff3cd 0%, #ffe69c 100%); padding: 20px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); border: 2px solid #ffc107;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <span style="font-size: 32px;">ğŸ’¡</span>
                            <div>
                                <h4 style="margin: 0; font-size: 16px; font-weight: 700; color: #856404;">è¡¥å……æ—¥å¿—æé†’</h4>
                            </div>
                        </div>
                        <p style="margin: 0 0 16px 0; font-size: 14px; color: #856404; line-height: 1.6;">
                            ä»¥ä¸‹é¡¹ç›®è¿˜æ²¡æœ‰ä»Šå¤©çš„æ—¥å¿—è®°å½•ï¼š<br>
                            <strong>${projectNames}</strong>
                        </p>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="document.getElementById('supplementPrompt').remove(); autoFillMissingProjects();" style="flex: 1; padding: 10px 16px; background: #856404; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">
                                ğŸ“ è¡¥å……æ—¥å¿—
                            </button>
                            <button onclick="document.getElementById('supplementPrompt').remove();" style="padding: 10px 16px; background: transparent; color: #856404; border: 1px solid #856404; border-radius: 8px; font-size: 14px; cursor: pointer;">
                                å¿½ç•¥
                            </button>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', html);
        }

        // è‡ªåŠ¨å¡«å……ä»Šå¤©çš„æ—¥å¿—
        function autoFillTodayLogs() {
            const today = new Date().toISOString().split('T')[0];
            const projects = getProjects();
            const logs = getLogs();

            // ä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºä¸€æ¡æ—¥å¿—
            projects.forEach(project => {
                // æ£€æŸ¥æ˜¯å¦å·²æœ‰ä»Šå¤©æ—¥å¿—
                const hasTodayLog = logs.some(log =>
                    log.projectId === project.id && log.date === today
                );

                if (!hasTodayLog) {
                    const data = projectData[project.id];
                    const log = {
                        id: Date.now().toString() + '_' + project.id,
                        projectId: project.id,
                        projectName: project.name,
                        date: today,
                        datetime: new Date().toLocaleString('zh-CN'),
                        title: `ğŸ“ ${project.name} - å·¥ä½œè®°å½•`,
                        tags: [{ name: 'ğŸ“ æ—¥å¿—', type: 'documentation' }],
                        items: [
                            'âœ… ç»§ç»­æ¨è¿›é¡¹ç›®å¼€å‘',
                            'ğŸ“ è®°å½•ä»Šæ—¥å·¥ä½œå†…å®¹',
                            'ğŸ” å¾…è¡¥å……å…·ä½“å·¥ä½œé¡¹...'
                        ],
                        code: null
                    };
                    logs.unshift(log);
                }
            });

            saveLogs(logs);
            renderAll();

            // ç§»é™¤æç¤º
            const prompt = document.getElementById('autoFillPrompt');
            if (prompt) prompt.remove();

            // æ˜¾ç¤ºæˆåŠŸæç¤º
            showNotification('âœ… å·²ä¸ºæ‰€æœ‰é¡¹ç›®åˆ›å»ºä»Šæ—¥æ—¥å¿—ï¼Œè¯·è¡¥å……å…·ä½“å†…å®¹');
        }

        // è‡ªåŠ¨å¡«å……ç¼ºå¤±é¡¹ç›®çš„æ—¥å¿—
        function autoFillMissingProjects() {
            const today = new Date().toISOString().split('T')[0];
            const projects = getProjects();
            const logs = getLogs();

            let filledCount = 0;
            projects.forEach(project => {
                const hasTodayLog = logs.some(log =>
                    log.projectId === project.id && log.date === today
                );

                if (!hasTodayLog) {
                    const log = {
                        id: Date.now().toString() + '_' + project.id,
                        projectId: project.id,
                        projectName: project.name,
                        date: today,
                        datetime: new Date().toLocaleString('zh-CN'),
                        title: `ğŸ“ ${project.name} - å·¥ä½œè®°å½•`,
                        tags: [{ name: 'ğŸ“ æ—¥å¿—', type: 'documentation' }],
                        items: [
                            'âœ… ç»§ç»­æ¨è¿›é¡¹ç›®å¼€å‘',
                            'ğŸ“ è®°å½•ä»Šæ—¥å·¥ä½œå†…å®¹',
                            'ğŸ” å¾…è¡¥å……å…·ä½“å·¥ä½œé¡¹...'
                        ],
                        code: null
                    };
                    logs.unshift(log);
                    filledCount++;
                }
            });

            saveLogs(logs);
            renderAll();

            showNotification(`âœ… å·²ä¸º ${filledCount} ä¸ªé¡¹ç›®è¡¥å……æ—¥å¿—`);
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                background: #3a3a3a;
                color: white;
                padding: 16px 24px;
                border-radius: 8px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                font-size: 14px;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function initProjects() {
            // å¼ºåˆ¶ä½¿ç”¨æ–°çš„é¡¹ç›®åˆ—è¡¨ï¼Œæ›´æ–° localStorage
            localStorage.setItem(PROJECTS_KEY, JSON.stringify(defaultProjects));
        }

        function getProjects() {
            return JSON.parse(localStorage.getItem(PROJECTS_KEY) || '[]');
        }

        function getLogs() {
            let logs = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');

            // æ›´æ–°æ—¥å¿—ä¸­çš„é¡¹ç›®åç§°
            const nameMap = {
                'ğŸ—‚ï¸ é¡¹ç›®ç»„ç»‡ä¸ç®¡ç†': 'ğŸ—‚ï¸ é¡¹ç›®ç®¡ç†æ±‡æ€»',
                'é¡¹ç›®ç»„ç»‡ä¸ç®¡ç†': 'ğŸ—‚ï¸ é¡¹ç›®ç®¡ç†æ±‡æ€»',
                'ğŸ§ è‹±è¯­å­¦ä¹  TTS ç³»ç»Ÿ': 'ğŸ§ è‹±è¯­æœ—è¯»å­¦ä¹ ',
                'è‹±è¯­å­¦ä¹  TTS ç³»ç»Ÿ': 'ğŸ§ è‹±è¯­æœ—è¯»å­¦ä¹ ',
                'ğŸ§ è‹±è¯­å­¦ä¹ ': 'ğŸ§ è‹±è¯­æœ—è¯»å­¦ä¹ ',
                'è‹±è¯­å­¦ä¹ ': 'ğŸ§ è‹±è¯­æœ—è¯»å­¦ä¹ ',
                'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨æ¢ç´¢': 'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                'æ¸…è¿ˆæ´»åŠ¨æ¢ç´¢': 'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨ç­–åˆ’': 'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                'æ¸…è¿ˆæ´»åŠ¨ç­–åˆ’': 'ğŸï¸ æ¸…è¿ˆæ´»åŠ¨å¹³å°',
                'ğŸ¥ AI SaaS è§†é¢‘é¡¹ç›®': 'ğŸ¥ AI SaaS è§†é¢‘',
                'AI SaaS è§†é¢‘é¡¹ç›®': 'ğŸ¥ AI SaaS è§†é¢‘',
                'ğŸ¤– Clawdbot Railway æ¨¡æ¿': 'ğŸ¤– Clawdbot',
                'Clawdbot Railway æ¨¡æ¿': 'ğŸ¤– Clawdbot'
            };

            let updated = false;
            logs.forEach(log => {
                if (nameMap[log.projectName]) {
                    log.projectName = nameMap[log.projectName];
                    updated = true;
                }
            });

            if (updated) {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(logs));
            }

            return logs;
        }

        function getTodos() {
            return JSON.parse(localStorage.getItem(TODOS_KEY) || '{}');
        }

        function saveTodos(todos) {
            localStorage.setItem(TODOS_KEY, JSON.stringify(todos));
        }

        function saveLogs(logs) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(logs));
            // è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶
            autoSaveToFile(logs);
        }

        async function autoSaveToFile(logs) {
            const data = {
                version: '1.0',
                exportTime: new Date().toISOString(),
                logs: logs,
                projects: getProjects()
            };

            // å¦‚æœå·²æœ‰æ–‡ä»¶å¥æŸ„ï¼Œç›´æ¥å†™å…¥ï¼ˆé™é»˜ä¿å­˜ï¼‰
            if (fileHandle) {
                try {
                    const writable = await fileHandle.createWritable();
                    await writable.write(JSON.stringify(data, null, 2));
                    await writable.close();
                    console.log('âœ… æ•°æ®å·²è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶');
                    // åœ¨é¡µé¢æ˜¾ç¤ºä¿å­˜æˆåŠŸæç¤º
                    showSaveNotification();
                    return;
                } catch (err) {
                    console.error('ä¿å­˜å¤±è´¥:', err);
                    fileHandle = null; // é‡ç½®æ–‡ä»¶å¥æŸ„
                }
            }

            // é¦–æ¬¡ä¿å­˜ï¼Œé™é»˜è¯·æ±‚ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ä½ç½®ï¼ˆä¸é˜»å¡ï¼‰
            requestFileSavePermission(data);
        }

        function showSaveNotification() {
            // åœ¨é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºä¿å­˜æˆåŠŸæç¤º
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #3a3a3a;
                color: white;
                padding: 12px 24px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                font-size: 14px;
                animation: slideIn 0.3s ease-out;
            `;
            notification.textContent = 'âœ… å·²è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶';
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        async function requestFileSavePermission(data) {
            // å»¶è¿Ÿæ‰§è¡Œï¼Œä¸é˜»å¡å½“å‰æ“ä½œ
            setTimeout(async () => {
                try {
                    fileHandle = await window.showSaveFilePicker({
                        suggestedName: `project-log-data-${new Date().toISOString().split('T')[0]}.json`,
                        types: [{
                            description: 'JSON æ–‡ä»¶',
                            accept: {'application/json': ['.json']},
                        }],
                    });

                    const writable = await fileHandle.createWritable();
                    await writable.write(JSON.stringify(data, null, 2));
                    await writable.close();
                    console.log('âœ… æ•°æ®å·²ä¿å­˜ï¼Œåç»­å°†è‡ªåŠ¨æ›´æ–°æ­¤æ–‡ä»¶');
                } catch (err) {
                    // ç”¨æˆ·å–æ¶ˆäº†é€‰æ‹©æ–‡ä»¶ï¼Œè¿™æ˜¯æ­£å¸¸çš„
                    if (err.name !== 'AbortError') {
                        console.error('ä¿å­˜æ–‡ä»¶å¤±è´¥:', err);
                    }
                }
            }, 100);
        }

        async function loadDataFile() {
            try {
                // è®©ç”¨æˆ·é€‰æ‹©æ•°æ®æ–‡ä»¶
                const [handle] = await window.showOpenFilePicker({
                    types: [{
                        description: 'JSON æ–‡ä»¶',
                        accept: {'application/json': ['.json']},
                    }],
                    multiple: false,
                });

                // ä¿å­˜æ–‡ä»¶å¥æŸ„ï¼Œç”¨äºåç»­è‡ªåŠ¨ä¿å­˜
                fileHandle = handle;

                // è¯»å–æ–‡ä»¶å†…å®¹
                const file = await handle.getFile();
                const text = await file.text();
                const data = JSON.parse(text);

                // åŠ è½½æ•°æ®åˆ° localStorage
                if (data.logs && Array.isArray(data.logs)) {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(data.logs));
                    if (data.projects && Array.isArray(data.projects)) {
                        localStorage.setItem(PROJECTS_KEY, JSON.stringify(data.projects));
                    }
                    alert(`âœ… å·²åŠ è½½ ${data.logs.length} æ¡æ—¥å¿—ï¼\nåç»­ä¿å­˜å°†è‡ªåŠ¨æ›´æ–°æ­¤æ–‡ä»¶ã€‚`);
                    renderAll();
                } else {
                    alert('âŒ æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®');
                }
            } catch (err) {
                if (err.name !== 'AbortError') {
                    alert('âŒ æ‰“å¼€æ–‡ä»¶å¤±è´¥ï¼š' + err.message);
                }
            }
        }

        // æ™ºèƒ½ç”Ÿæˆä»Šæ—¥æ—¥å¿—ï¼ˆåŸºäºGitå˜æ›´ï¼‰
        async function autoGenerateTodayLog() {
            const today = new Date().toISOString().split('T')[0];
            const logs = getLogs();

            // æ£€æŸ¥ä»Šå¤©æ˜¯å¦å·²æœ‰æ—¥å¿—
            const hasTodayLog = logs.some(log => log.date === today);

            if (hasTodayLog) {
                alert('ä»Šå¤©å·²ç»åˆ›å»ºè¿‡æ—¥å¿—äº†ï¼\n\nä½ å¯ä»¥ï¼š\n1. åœ¨ç°æœ‰æ—¥å¿—åŸºç¡€ä¸Šæ·»åŠ å†…å®¹\n2. æˆ–æ‰‹åŠ¨åˆ›å»ºæ–°çš„æ—¥å¿—æ¡ç›®');
                return;
            }

            // è°ƒç”¨åç«¯è„šæœ¬è·å–Gitå˜æ›´
            try {
                const response = await fetch('/api/auto-generate-log', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ today: today })
                });

                if (response.ok) {
                    const data = await response.json();

                    if (data.logs && data.logs.length > 0) {
                        // æ·»åŠ ç”Ÿæˆçš„æ—¥å¿—
                        data.logs.forEach(log => {
                            logs.unshift(log);
                        });
                        saveLogs(logs);
                        renderAll();

                        alert(`âœ… å·²è‡ªåŠ¨ç”Ÿæˆ ${data.logs.length} æ¡æ—¥å¿—ï¼\n\nåŸºäºä»¥ä¸‹é¡¹ç›®çš„Gitå˜æ›´ï¼š\n${data.projects.join('\n')}`);
                    } else {
                        // æ²¡æœ‰Gitå˜æ›´ï¼Œæ˜¾ç¤ºæç¤º
                        const result = confirm('ğŸ¤– æ™ºèƒ½ç”Ÿæˆä»Šæ—¥æ—¥å¿—\n\nä»Šå¤©æ²¡æœ‰æ£€æµ‹åˆ°Gitæäº¤è®°å½•ã€‚\n\næ˜¯å¦è¦åˆ›å»ºä¸€ä¸ªç©ºç™½æ—¥å¿—æ¨¡æ¿ï¼Ÿ');
                        if (result) {
                            showAddForm();
                        }
                    }
                } else {
                    throw new Error('APIè¯·æ±‚å¤±è´¥');
                }
            } catch (error) {
                // APIä¸å¯ç”¨ï¼Œæä¾›æ‰‹åŠ¨å¼•å¯¼
                const result = confirm('ğŸ¤– æ™ºèƒ½ç”Ÿæˆä»Šæ—¥æ—¥å¿—\n\nè‡ªåŠ¨æ£€æµ‹åŠŸèƒ½éœ€è¦åç«¯APIæ”¯æŒã€‚\n\nç‚¹å‡»"ç¡®å®š"æŸ¥çœ‹æ‰‹åŠ¨åˆ›å»ºæŒ‡å—ï¼Œæˆ–"å–æ¶ˆ"ç›´æ¥åˆ›å»ºæ—¥å¿—ã€‚');
                if (result) {
                    window.open('daily-reports/' + today + '.md', '_blank');
                } else {
                    showAddForm();
                }
            }
        }

        function showAddForm() {
            document.getElementById('addForm').classList.add('active');
        }

        function hideAddForm() {
            document.getElementById('addForm').classList.remove('active');
        }

        function saveLogForm() {
            const projects = getProjects();
            const projectSelect = document.getElementById('projectSelect').value;
            let projectName;

            if (projectSelect === 'other') {
                projectName = document.getElementById('otherProjectName').value.trim();
                if (!projectName) {
                    alert('è¯·è¾“å…¥é¡¹ç›®åç§°');
                    return;
                }
            } else {
                const project = projects.find(p => p.id === projectSelect);
                projectName = project.name;
            }

            const date = document.getElementById('logDate').value;
            const type = document.getElementById('logType').value;
            const items = document.getElementById('logItems').value.split('\n').filter(i => i.trim());
            const code = document.getElementById('logCode').value.trim();

            if (items.length === 0) {
                alert('è¯·å¡«å†™é¡¹ç›®æ€»ç»“æ—¥å¿—');
                return;
            }

            const typeTags = {
                'feature': { name: 'âœ¨ æ–°åŠŸèƒ½', type: 'feature' },
                'fix': { name: 'ğŸ”§ ä¿®å¤', type: 'fix' },
                'improvement': { name: 'ğŸš€ ä¼˜åŒ–', type: 'improvement' },
                'learning': { name: 'ğŸ“š å­¦ä¹ ', type: 'learning' }
            };

            const log = {
                id: Date.now().toString(),
                projectId: projectSelect,
                projectName: projectName,
                date: date,
                datetime: new Date().toLocaleString('zh-CN'),
                title: `${typeTags[type].name} - ${date}`,
                tags: [{ ...typeTags[type] }],
                items: items,
                code: code || null
            };

            const logs = getLogs();
            logs.unshift(log);
            saveLogs(logs);

            alert('âœ… æ—¥å¿—å·²ä¿å­˜ï¼');
            hideAddForm();
            renderAll();
        }

        function renderAll() {
            const logs = getLogs();

            // æ ¹æ®å½“å‰ç­›é€‰çš„é¡¹ç›®è¿‡æ»¤æ—¥å¿—
            let filteredLogs = logs;
            if (currentProjectFilter !== null) {
                filteredLogs = logs.filter(log => log.projectId === currentProjectFilter);
                console.log(`ğŸ” é¡¹ç›®ç­›é€‰: ${currentProjectFilter}, è¿‡æ»¤åæ—¥å¿—æ•°: ${filteredLogs.length}/${logs.length}`);
            }

            renderStats(logs); // ç»Ÿè®¡æ˜¾ç¤ºå…¨éƒ¨æ•°æ®
            renderTable(filteredLogs); // è¡¨æ ¼æ˜¾ç¤ºç­›é€‰åçš„æ•°æ®
        }

        function renderStats(logs) {
            const projects = getProjects();
            const dates = [...new Set(logs.map(l => l.date.split('T')[0]))];

            document.getElementById('stats').innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${logs.length}</div>
                    <div class="stat-label">æ€»æ—¥å¿—æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${dates.length}</div>
                    <div class="stat-label">æ´»è·ƒå¤©æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${projects.length}</div>
                    <div class="stat-label">é¡¹ç›®æ•°</div>
                </div>
            `;
        }

        function renderTable(logs) {
            const container = document.getElementById('logTable');

            console.log(`ğŸ“‹ æ¸²æŸ“æ—¥å¿—è¡¨æ ¼: ${logs.length} æ¡è®°å½•, å½“å‰é¡¹ç›®ç­›é€‰: ${currentProjectFilter}`);

            if (logs.length === 0) {
                const message = currentProjectFilter
                    ? `ğŸ“ è¯¥é¡¹ç›®æš‚æ— æ—¥å¿—è®°å½•<br><button class="btn btn-primary" onclick="showAddForm()">æ·»åŠ ç¬¬ä¸€æ¡æ—¥å¿—</button>`
                    : '<div class="empty-state">æš‚æ— æ—¥å¿—è®°å½•<br><button class="btn btn-primary" onclick="showAddForm()">æ·»åŠ ç¬¬ä¸€æ¡æ—¥å¿—</button></div>';
                container.innerHTML = message;
                return;
            }

            const tagClass = {
                'feature': 'tag-feature',
                'fix': 'tag-fix',
                'improvement': 'tag-improvement',
                'learning': 'tag-learning'
            };

            container.innerHTML = `
                <table>
                    <thead>
                        <tr>
                            <th style="width: 200px;">é¡¹ç›®åç§°</th>
                            <th style="width: 150px;">æ—¥æœŸ</th>
                            <th>é¡¹ç›®æ€»ç»“æ—¥å¿—</th>
                            <th style="width: 100px;">ç±»å‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${logs.map(log => `
                            <tr ${log.isAutoGenerated ? 'style="background: rgba(100, 100, 100, 0.05);"' : ''}>
                                <td>
                                    <span class="project-name">${log.projectName}</span>
                                    ${log.isAutoGenerated ? '<span style="display: inline-block; margin-left: 6px; padding: 2px 6px; font-size: 11px; background: rgba(100, 100, 100, 0.15); color: #3a3a3a; border-radius: 4px;">è‡ªåŠ¨ç”Ÿæˆ</span>' : ''}
                                </td>
                                <td><span class="log-date">${log.date}</span></td>
                                <td class="log-summary" ${log.isAutoGenerated ? 'style="opacity: 0.75;"' : ''}>
                                    ${log.items.map(item => `<div>${item}</div>`).join('')}
                                    ${log.code ? `<pre style="margin-top: 10px; background: #1a1a1a; color: #b0b0b0; padding: 10px; border-radius: 4px; overflow-x: auto;">${escapeHtml(log.code)}</pre>` : ''}
                                </td>
                                <td>
                                    ${log.tags.map(tag => `<span class="tag ${tagClass[tag.type]}">${tag.name}</span>`).join('')}
                                </td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        // åˆ·æ–°æ‰€æœ‰æ•°æ®
        function refreshAllData() {
            // æ˜¾ç¤ºåˆ·æ–°æç¤º
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #3a3a3a;
                color: white;
                padding: 12px 24px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                font-size: 14px;
                animation: slideIn 0.3s ease-out;
            `;
            notification.textContent = 'ğŸ”„ æ­£åœ¨åˆ·æ–°æ•°æ®...';
            document.body.appendChild(notification);

            // é‡æ–°åˆå§‹åŒ–é¡¹ç›®æ•°æ®
            initProjects();

            // é‡æ–°æ¸²æŸ“æ‰€æœ‰å†…å®¹
            renderProjectList();
            updateProjectSelector();
            renderAll();

            // é‡æ–°æ¸²æŸ“å½“å‰æ ‡ç­¾é¡µå†…å®¹
            const activeTabBtn = document.querySelector('.tab-btn.active');
            if (activeTabBtn) {
                const tabText = activeTabBtn.textContent;
                if (tabText.includes('ğŸ“š é¡¹ç›®æ€»ç»“')) {
                    renderSummaryContent();
                } else if (tabText.includes('ğŸ“ é¡¹ç›®èµ„æº')) {
                    renderProjectResources();
                } else if (tabText.includes('âœ… å¾…åŠæ¸…å•')) {
                    renderTodosContent();
                }
            }

            // æ›´æ–°æç¤º
            setTimeout(() => {
                notification.textContent = 'âœ… æ•°æ®å·²åˆ·æ–°ï¼';
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease-out';
                    setTimeout(() => notification.remove(), 300);
                }, 1500);
            }, 500);
        }

        function dismissWelcomeGuide() {
            document.getElementById('welcomeGuide').style.display = 'none';
            localStorage.setItem('guide_dismissed', 'true');
        }

        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard(text) {
            // å¤„ç† ~ è·¯å¾„
            const fullPath = text.replace('~', '/Users/yuzhoudeshengyin');

            // ä½¿ç”¨ç°ä»£APIå¤åˆ¶
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(fullPath).then(() => {
                    showNotification('âœ… è·¯å¾„å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                }).catch(err => {
                    // é™çº§æ–¹æ¡ˆ
                    fallbackCopy(fullPath);
                });
            } else {
                fallbackCopy(fullPath);
            }
        }

        // é™çº§å¤åˆ¶æ–¹æ¡ˆ
        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                showNotification('âœ… è·¯å¾„å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            } catch (err) {
                showNotification('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            }
            document.body.removeChild(textArea);
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: #3a3a3a;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
                font-size: 14px;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ==================== é¡¹ç›®æ£€æŸ¥åŠŸèƒ½ ====================

        // è¿è¡Œé¡¹ç›®æ£€æŸ¥
        async function runProjectCheck() {
            const container = document.getElementById('checkResults');
            container.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 40px; margin-bottom: 15px;">ğŸ”</div>
                    <p>æ­£åœ¨æ£€æŸ¥é¡¹ç›®æ–‡ä»¶...</p>
                </div>
            `;

            const results = {
                workflow: { name: 'å·¥ä½œæµç¨‹æ–‡æ¡£', status: 'unknown', items: [] },
                planning: { name: 'è§„åˆ’æ–‡ä»¶', status: 'unknown', items: [] },
                projects: { name: 'é¡¹ç›®é…ç½®', status: 'unknown', items: [] },
                scripts: { name: 'ç®¡ç†è„šæœ¬', status: 'unknown', items: [] }
            };

            // æ£€æŸ¥å·¥ä½œæµç¨‹æ–‡æ¡£
            try {
                const workflowFiles = [
                    { path: '~/WORKFLOW.md', desc: 'AI åŠ©æ‰‹å·¥ä½œæµç¨‹è§„èŒƒ' },
                    { path: '~/PROJECTS-CONFIG.md', desc: 'é¡¹ç›®é…ç½®æŒ‡å—' },
                    { path: '~/PROJECTS.md', desc: 'é¡¹ç›®ç«¯å£é…ç½®' },
                    { path: '~/PROJECT-CHECKLIST.md', desc: 'é¡¹ç›®é…ç½®æ¸…å•' }
                ];

                for (const file of workflowFiles) {
                    results.workflow.items.push({
                        file: file.path,
                        desc: file.desc,
                        exists: await checkFileExists(file.path)
                    });
                }
                results.workflow.status = results.workflow.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.workflow.status = 'error';
            }

            // æ£€æŸ¥è§„åˆ’æ–‡ä»¶
            try {
                const planningFiles = [
                    { path: '~/task_plan.md', desc: 'ä»»åŠ¡è®¡åˆ’' },
                    { path: '~/findings.md', desc: 'ç ”ç©¶å‘ç°' },
                    { path: '~/progress.md', desc: 'è¿›åº¦æ—¥å¿—' }
                ];

                for (const file of planningFiles) {
                    results.planning.items.push({
                        file: file.path,
                        desc: file.desc,
                        exists: await checkFileExists(file.path)
                    });
                }
                results.planning.status = results.planning.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.planning.status = 'error';
            }

            // æ£€æŸ¥ç®¡ç†è„šæœ¬
            try {
                const scriptFiles = [
                    { path: '~/projects.sh', desc: 'ç»Ÿä¸€å¯åŠ¨è„šæœ¬' },
                    { path: '~/test-projects.sh', desc: 'è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬' },
                    { path: '~/QUICKSTART.sh', desc: 'å¿«é€Ÿå¯åŠ¨åˆ«å' }
                ];

                for (const file of scriptFiles) {
                    results.scripts.items.push({
                        file: file.path,
                        desc: file.desc,
                        exists: await checkFileExists(file.path)
                    });
                }
                results.scripts.status = results.scripts.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.scripts.status = 'error';
            }

            // æ£€æŸ¥é¡¹ç›®ç›®å½•
            try {
                const projectDirs = [
                    { path: '~/Documents/my_project/aisaasvideo', name: 'VideoFly', port: 3000 },
                    { path: '~/Documents/my_project/Chiengmai', name: 'Chiengmai', port: 4000 },
                    { path: '~/Documents/my_project/clawdbot-railway-template', name: 'clawdbot', port: 8080 }
                ];

                for (const proj of projectDirs) {
                    results.projects.items.push({
                        name: proj.name,
                        path: proj.path,
                        port: proj.port,
                        exists: await checkFileExists(proj.path)
                    });
                }
                results.projects.status = results.projects.items.every(i => i.exists) ? 'ok' : 'warning';
            } catch (e) {
                results.projects.status = 'error';
            }

            // æ¸²æŸ“ç»“æœ
            renderCheckResults(results);
        }

        // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼ˆæ¨¡æ‹Ÿï¼‰
        async function checkFileExists(path) {
            // æ³¨æ„ï¼šæµè§ˆå™¨æ— æ³•ç›´æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿ
            // è¿™é‡Œè¿”å›ä¸€ä¸ªæ¨¡æ‹Ÿç»“æœï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦åç«¯æ”¯æŒ
            return new Promise(resolve => {
                // åŸºäºæ–‡ä»¶åè¿”å›æ¨¡æ‹Ÿç»“æœ
                const knownFiles = [
                    '~/WORKFLOW.md',
                    '~/PROJECTS-CONFIG.md',
                    '~/PROJECTS.md',
                    '~/PROJECT-CHECKLIST.md',
                    '~/task_plan.md',
                    '~/findings.md',
                    '~/progress.md',
                    '~/projects.sh',
                    '~/test-projects.sh',
                    '~/QUICKSTART.sh',
                    '~/Documents/my_project/aisaasvideo',
                    '~/Documents/my_project/Chiengmai',
                    '~/Documents/my_project/clawdbot-railway-template'
                ];
                setTimeout(() => {
                    resolve(knownFiles.includes(path));
                }, 100);
            });
        }

        // æ¸²æŸ“æ£€æŸ¥ç»“æœ
        function renderCheckResults(results) {
            const container = document.getElementById('checkResults');

            const statusIcons = {
                ok: 'âœ…',
                warning: 'âš ï¸',
                error: 'âŒ',
                unknown: 'â“'
            };

            const statusColors = {
                ok: '#5a5a5a',
                warning: '#8a8a8a',
                error: '#7a7a7a',
                unknown: '#6b7280'
            };

            let html = '<div style="display: flex; flex-direction: column; gap: 20px;">';

            // å·¥ä½œæµç¨‹æ–‡æ¡£
            html += renderCheckSection('workflow', results.workflow, statusIcons, statusColors);

            // è§„åˆ’æ–‡ä»¶
            html += renderCheckSection('planning', results.planning, statusIcons, statusColors);

            // é¡¹ç›®ç›®å½•
            html += renderCheckSection('projects', results.projects, statusIcons, statusColors);

            // ç®¡ç†è„šæœ¬
            html += renderCheckSection('scripts', results.scripts, statusIcons, statusColors);

            html += '</div>';

            // æ·»åŠ è¯´æ˜
            html += `
                <div style="margin-top: 30px; padding: 15px; background: #f0f0f0; border-radius: 8px; border-left: 4px solid #5a5a5a;">
                    <p style="margin: 0; font-size: 13px; color: #6a6a6a;">
                        ğŸ’¡ <strong>æç¤ºï¼š</strong>æ­¤æ£€æŸ¥åŸºäºå·²çŸ¥æ–‡ä»¶åˆ—è¡¨ã€‚è¦ä½¿ AI åŠ©æ‰‹æ¯æ¬¡æ‰§è¡Œä»»åŠ¡å‰è‡ªåŠ¨æ£€æŸ¥ï¼Œ
                        è¯·åœ¨ ~/WORKFLOW.md ä¸­å®šä¹‰å·¥ä½œæµç¨‹è§„èŒƒã€‚
                    </p>
                </div>
            `;

            container.innerHTML = html;
        }

        // æ¸²æŸ“æ£€æŸ¥éƒ¨åˆ†
        function renderCheckSection(key, data, statusIcons, statusColors) {
            const icon = statusIcons[data.status] || statusIcons.unknown;
            const color = statusColors[data.status] || statusColors.unknown;

            let html = `
                <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <div style="padding: 15px 20px; background: linear-gradient(135deg, ${color}15, ${color}08); border-bottom: 1px solid ${color}20; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 20px;">${icon}</span>
                        <span style="font-weight: 600; color: ${color};">${data.name}</span>
                        <span style="margin-left: auto; font-size: 12px; color: #6a6a6a;">
                            ${data.items.filter(i => i.exists || i.exists === undefined).length}/${data.items.length} å­˜åœ¨
                        </span>
                    </div>
                    <div style="padding: 15px 20px;">
            `;

            if (key === 'projects') {
                // é¡¹ç›®ç›®å½•æ ¼å¼
                data.items.forEach(item => {
                    const exists = item.exists;
                    html += `
                        <div style="padding: 10px; margin-bottom: 8px; background: ${exists ? '#f0f0f0' : '#f5f5f5'}; border-radius: 6px; border-left: 3px solid ${exists ? '#5a5a5a' : '#7a7a7a'}; display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 16px;">${exists ? 'âœ…' : 'âŒ'}</span>
                            <div style="flex: 1;">
                                <div style="font-weight: 500; color: ${exists ? '#4a4a4a' : '#5a5a5a'};">${item.name}</div>
                                <div style="font-size: 12px; color: #6a6a6a;">${item.path} Â· ç«¯å£ ${item.port}</div>
                            </div>
                        </div>
                    `;
                });
            } else {
                // æ–‡ä»¶æ ¼å¼
                data.items.forEach(item => {
                    const exists = item.exists;
                    html += `
                        <div style="padding: 10px; margin-bottom: 8px; background: ${exists ? '#f0f0f0' : '#f5f5f5'}; border-radius: 6px; border-left: 3px solid ${exists ? '#5a5a5a' : '#7a7a7a'}; display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 16px;">${exists ? 'âœ…' : 'âŒ'}</span>
                            <div style="flex: 1;">
                                <div style="font-weight: 500; color: ${exists ? '#4a4a4a' : '#5a5a5a'};">${item.desc}</div>
                                <div style="font-size: 12px; color: #6a6a6a;">${item.file}</div>
                            </div>
                            ${exists ? `<a href="#" onclick="event.preventDefault(); window.open('file://${item.file.replace('~', '/Users/yuzhoudeshengyin')}')" style="padding: 5px 12px; background: #5a5a5a; color: white; border-radius: 4px; font-size: 12px; text-decoration: none;">æŸ¥çœ‹</a>` : ''}
                        </div>
                    `;
                });
            }

            html += `
                    </div>
                </div>
            `;

            return html;
        }
    </script>
</body>
</html>
